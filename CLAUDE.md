# ç—…é™¢ãƒŠãƒ“å—ä¿¡ (Byouin-Nabi) - Claude Code ã‚¬ã‚¤ãƒ‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: ç—…é™¢ãƒŠãƒ“å—ä¿¡ (Byouin-Nabi)
**ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«**: ç—‡çŠ¶ã‹ã‚‰æ¢ã™ å®‰å¿ƒã®ç—…é™¢ãƒŠãƒ“
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒ†ãƒ¼ã‚¸**: æœ¬ç•ªé‹ç”¨ä¸­ ğŸš€
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: `/home/masayuki/NextJs/byouin-nabi`
**æœ¬ç•ªURL**: Vercel ã«ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿

### ãƒŸãƒƒã‚·ãƒ§ãƒ³

ã€Œç—‡çŠ¶ãŒã‚ã‚‹ã®ã«ã€ã©ã®ç—…é™¢ã«è¡Œã‘ã°ã‚ˆã„ã‹åˆ†ã‹ã‚‰ãªã„ã€ã¨ã„ã†åœ°åŸŸä½æ°‘ã®æ‚©ã¿ã‚’è§£æ±ºã—ã€é©åˆ‡ãªåŒ»ç™‚æ©Ÿé–¢ã¸ã®å—è¨ºã‚’ä¿ƒã™ Web ã‚µãƒ¼ãƒ“ã‚¹

### ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼

- ä¸»è¦å±¤: 40 ä»£ï½ã‚·ãƒ‹ã‚¢å±¤ï¼ˆç‰¹ã« 60 ä»£ä»¥ä¸Šï¼‰
- ç‰¹æ€§: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³æ“ä½œãŒè‹¦æ‰‹ã€è¨ºç™‚ç§‘ã®åˆ¤æ–­ã«è¿·ã†ã€ç—‡çŠ¶èª¬æ˜ãŒå›°é›£
- UX è¦ä»¶: å¤§æ–‡å­—ã‚µã‚¤ã‚ºï¼ˆ18px ä»¥ä¸Šã€å¤§æ–‡å­—ãƒ¢ãƒ¼ãƒ‰ 24px ä»¥ä¸Šï¼‰ã€é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã€æœ€å°ã‚¿ãƒƒãƒ—é ˜åŸŸ 48px Ã— 48px

---

## ğŸš¨ é‡è¦ãªæ³¨æ„äº‹é …

### Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ç”¨ã«ã¤ã„ã¦

**çµ¶å¯¾ã«ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ï¼š**

- âŒ **taihei-studio** (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID: `gzwugjcjobnsbuagjjyf`)
  - **ç†ç”±**: æœ¬ç•ªç’°å¢ƒã§åˆ¥ã‚µãƒ¼ãƒ“ã‚¹ãŒç¨¼åƒä¸­
  - **çŠ¶æ…‹**: çµ¶å¯¾ã«æ“ä½œãƒ»å¤‰æ›´ãƒ»å‰Šé™¤ç¦æ­¢

**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã™ã‚‹Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼š**

- âœ… **byouin-nabi** (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID: `xsydqbczmzfufeywjfps`)
  - **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: æ±äº¬ (ap-northeast-1)
  - **ç”¨é€”**: ç—…é™¢ãƒŠãƒ“å—ä¿¡ å°‚ç”¨
  - **URL**: https://xsydqbczmzfufeywjfps.supabase.co

**é–‹ç™ºæ™‚ã®ç¢ºèªäº‹é …ï¼š**
- Supabase MCP ã‚’ä½¿ç”¨ã™ã‚‹éš›ã¯ã€å¿…ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDãŒ `xsydqbczmzfufeywjfps` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
- .env.local ãƒ•ã‚¡ã‚¤ãƒ«ã® NEXT_PUBLIC_SUPABASE_URL ãŒ `https://xsydqbczmzfufeywjfps.supabase.co` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
- èª¤ã£ã¦ taihei-studio ã‚’æ“ä½œã—ãŸå ´åˆã¯ã€å³åº§ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å ±å‘Š

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ã‚³ã‚¢ä¾å­˜é–¢ä¿‚

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” | å‚™è€ƒ |
|------|-----------|------|------|
| Next.js | 15.5.7 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | App Router ã‚’ä½¿ç”¨ï¼ˆPages Router ã§ã¯ãªã„ï¼‰ |
| React | 19.1.0 | UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¯¾å¿œç‰ˆ |
| React DOM | 19.1.0 | React å‡ºåŠ›å…ˆ | - |
| Tailwind CSS | 3.4.17 | CSS ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§ UI æ§‹ç¯‰ |
| PostCSS | 8.4.49 | CSS ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ© | Tailwind ã¨ Autoprefixer ã®å‡¦ç† |
| Autoprefixer | 10.4.20 | ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•ä»˜ä¸ | - |
| TypeScript | 5.x | è¨€èª | å³æ ¼ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹ï¼ˆtsconfig.json ã® `strict: true`ï¼‰ |

### é–‹ç™ºç’°å¢ƒä¾å­˜é–¢ä¿‚

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| ESLint | 9.x | ã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ã‚¹ã‚¿ã‚¤ãƒ«æ¤œæŸ» |
| eslint-config-next | 15.5.7 | Next.js å…¬å¼ ESLint è¨­å®š |
| @types/node | 20.x | Node.js å‹å®šç¾© |
| @types/react | 19.x | React å‹å®šç¾© |
| @types/react-dom | 19.x | React DOM å‹å®šç¾© |

### å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆå®Ÿè£…å®Œäº†ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | ç”¨é€” | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å‚™è€ƒ |
|---------|------|----------|------|
| Supabase | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»èªè¨¼ | âœ… æœ¬ç•ªç¨¼åƒä¸­ | PostgreSQL ãƒ™ãƒ¼ã‚¹ |
| OpenAI API | AI è¨ºæ–­æ©Ÿèƒ½ | âœ… æœ¬ç•ªç¨¼åƒä¸­ï¼ˆå®Ÿé¨“çš„ï¼‰ | GPT-4o-mini ä½¿ç”¨ |
| html2canvas | ç”»åƒç”Ÿæˆ | âœ… å®Ÿè£…å®Œäº† | ç—‡çŠ¶èª¬æ˜æ–‡ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆåŒ– |
| Vercel | ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | âœ… æœ¬ç•ªç¨¼åƒä¸­ | è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ |

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
/home/masayuki/NextJs/byouin-nabi/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # App Router ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆMetadataã€ãƒ•ã‚©ãƒ³ãƒˆè¨­å®šï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx            # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆç¾åœ¨ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
â”‚   â”‚   â”œâ”€â”€ globals.css         # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ favicon.ico         # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³
â”‚   â”œâ”€â”€ components/             # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆäºˆå®šï¼‰
â”‚   â”œâ”€â”€ pages/                  # Tailwind å¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â””â”€â”€ [ãã®ä»–ãƒšãƒ¼ã‚¸ãƒ»API]      # å®Ÿè£…æ™‚ã«è¿½åŠ äºˆå®š
â”œâ”€â”€ public/                     # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒç­‰ï¼‰
â”‚   â”œâ”€â”€ next.svg
â”‚   â”œâ”€â”€ vercel.svg
â”‚   â””â”€â”€ [ãã®ä»–ã‚¢ã‚»ãƒƒãƒˆ]
â”œâ”€â”€ .next/                      # ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ï¼ˆgit ignoreï¼‰
â”œâ”€â”€ node_modules/               # ä¾å­˜é–¢ä¿‚ï¼ˆgit ignoreï¼‰
â”œâ”€â”€ .claude/                    # Claude Code è¨­å®š
â”‚   â””â”€â”€ settings.local.json
â”œâ”€â”€ package.json                # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ package-lock.json           # ä¾å­˜é–¢ä¿‚ãƒ­ãƒƒã‚¯
â”œâ”€â”€ tsconfig.json               # TypeScript è¨­å®š
â”œâ”€â”€ next.config.ts              # Next.js è¨­å®š
â”œâ”€â”€ tailwind.config.ts          # Tailwind CSS è¨­å®š
â”œâ”€â”€ postcss.config.mjs          # PostCSS è¨­å®š
â”œâ”€â”€ eslint.config.mjs           # ESLint è¨­å®šï¼ˆæ–°ãƒ•ãƒ©ãƒƒãƒˆã‚³ãƒ³ãƒ•ã‚£ã‚°ï¼‰
â”œâ”€â”€ .mcp.json                   # Supabase MCP ã‚µãƒ¼ãƒãƒ¼è¨­å®š
â”œâ”€â”€ REQUIREMENTS.md             # è¦ä»¶å®šç¾©æ›¸ï¼ˆè©³ç´°ï¼‰
â”œâ”€â”€ README.md                   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
â””â”€â”€ CLAUDE.md                   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### ã‚­ãƒ¼è¨­å®šã®æ„ç¾©

#### tsconfig.json

```json
{
  "compilerOptions": {
    "strict": true,           // å³æ ¼å‹ãƒã‚§ãƒƒã‚¯ï¼ˆå¿…é ˆï¼‰
    "paths": {
      "@/*": ["./src/*"]      // ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆ@/components ãªã©ï¼‰
    },
    "jsx": "preserve"         // Next.js ã® JSX å‡¦ç†
  }
}
```

- Path Alias `@/*` ã«ã‚ˆã‚Šã€æ·±ã„ç›¸å¯¾ãƒ‘ã‚¹ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«å‚ç…§å¯èƒ½
- ã€Œ`import Button from '@/components/Button'`ã€ã®ã‚ˆã†ãªå½¢å¼ã§çµ±ä¸€

#### tailwind.config.ts

- Tailwind ãŒç›£è¦–å¯¾è±¡ã¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«: `src/app/**`, `src/components/**`, `src/pages/**`
- ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ: CSS å¤‰æ•°ãƒ™ãƒ¼ã‚¹ï¼ˆ`--background`, `--foreground`ï¼‰ã§å‹•çš„ãƒ†ãƒ¼ãƒå¯¾å¿œ
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã—ï¼ˆå¿…è¦ã«å¿œã˜ã¦ `plugins: []` ã«è¿½åŠ ï¼‰

#### next.config.ts

- ç¾åœ¨ã€ã‚«ã‚¹ã‚¿ãƒ è¨­å®šãªã—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œï¼‰
- å°†æ¥ã€API ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã€ç”»åƒæœ€é©åŒ–ã€API ãƒ«ãƒ¼ãƒˆç­‰ã‚’è¿½åŠ äºˆå®š

---

## npm ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆTurbopack æœ‰åŠ¹ï¼‰
npm run dev
# â†’ http://localhost:3000 ã§ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œé–‹ç™º

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build
# â†’ `.next/` å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒ³ãƒ‰ãƒ«ã‚’ç”Ÿæˆ

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm start
# â†’ ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•

# ESLint å®Ÿè¡Œ
npm run lint
# â†’ ã‚³ãƒ¼ãƒ‰å“è³ªæ¤œæŸ»ï¼ˆç¾åœ¨ã€æ¨™æº–ãƒ«ãƒ¼ãƒ«ï¼‰
```

### Turbopack ã«ã¤ã„ã¦

- Next.js 15.5.6 ã§ Turbopack çµ±åˆï¼ˆ`--turbopack` ãƒ•ãƒ©ã‚°ï¼‰
- é–‹ç™ºæ™‚ã®ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ãŒå¤§å¹…ã«å‘ä¸Š
- æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã§ã‚‚ä½¿ç”¨å¯èƒ½ã ãŒã€äº’æ›æ€§ã‚’ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹ã“ã¨

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥

**Next.js App Router ã‚’æ¡ç”¨**

- ãƒ•ã‚©ãƒ«ãƒ€ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°: `src/app/` å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ãŒãã®ã¾ã‚‹ã§ãƒ«ãƒ¼ãƒˆã«ãªã‚‹
- ä¾‹: `src/app/admin/page.tsx` â†’ `/admin` ãƒ«ãƒ¼ãƒˆ
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®éšå±¤åŒ–: `layout.tsx` ã§å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼ã‚’ä¸€å…ƒç®¡ç†

**ä»Šå¾Œã®æ‹¡å¼µäºˆå®š:**

```
src/app/
â”œâ”€â”€ layout.tsx                 # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ page.tsx                   # / (ãƒ›ãƒ¼ãƒ )
â”œâ”€â”€ questionnaire/
â”‚   â””â”€â”€ page.tsx              # /questionnaire (ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆç”»é¢)
â”œâ”€â”€ results/
â”‚   â””â”€â”€ page.tsx              # /results (çµæœè¡¨ç¤º)
â”œâ”€â”€ hospital/
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx          # /hospital/[id] (ç—…é™¢è©³ç´°)
â””â”€â”€ admin/                     # ç®¡ç†ç”»é¢ï¼ˆèªè¨¼ä¿è­·ï¼‰
    â”œâ”€â”€ layout.tsx            # ç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    â”œâ”€â”€ dashboard/
    â”‚   â””â”€â”€ page.tsx          # /admin/dashboard
    â””â”€â”€ hospitals/
        â”œâ”€â”€ page.tsx          # /admin/hospitals (ä¸€è¦§)
        â””â”€â”€ [id]/edit.tsx     # /admin/hospitals/[id]/edit (ç·¨é›†)
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**

- `app/layout.tsx`: ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ•ã‚©ãƒ³ãƒˆã€metadataï¼‰
- ãƒšãƒ¼ã‚¸å›ºæœ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: å¿…è¦ã«å¿œã˜ã¦ `layout.tsx` ã‚’å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ:**

```
src/components/
â”œâ”€â”€ Questionnaire/
â”‚   â”œâ”€â”€ QuestionnaireForm.tsx      # ã‚¢ãƒ³ã‚±ãƒ¼ãƒ æœ¬ä½“
â”‚   â””â”€â”€ QuestionOption.tsx         # é¸æŠè‚¢1ã¤
â”œâ”€â”€ SymptomResult/
â”‚   â”œâ”€â”€ SymptomDescription.tsx     # ç—‡çŠ¶èª¬æ˜æ–‡è¡¨ç¤º
â”‚   â””â”€â”€ ImageSaveButton.tsx        # ç”»åƒä¿å­˜
â”œâ”€â”€ HospitalList/
â”‚   â”œâ”€â”€ HospitalList.tsx           # ç—…é™¢ãƒªã‚¹ãƒˆè¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ HospitalCard.tsx           # ç—…é™¢1ã¤ã®ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ Admin/
â”‚   â”œâ”€â”€ HospitalForm.tsx           # ç—…é™¢ç™»éŒ²ãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â””â”€â”€ DataImporter.tsx           # CSV/Excel ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
â”œâ”€â”€ Common/
â”‚   â”œâ”€â”€ Header.tsx                 # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”œâ”€â”€ Footer.tsx                 # ãƒ•ãƒƒã‚¿ãƒ¼
â”‚   â”œâ”€â”€ FontSizeToggle.tsx         # æ–‡å­—ã‚µã‚¤ã‚ºåˆ‡æ›¿
â”‚   â””â”€â”€ LoadingSpinner.tsx         # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
â””â”€â”€ Layout/
    â””â”€â”€ AdminLayout.tsx            # ç®¡ç†ç”»é¢ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```

### çŠ¶æ…‹ç®¡ç†

**æ–¹é‡: React Hooks + Context APIï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå„ªå…ˆï¼‰**

- ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹: `React.createContext` + `useContext` ã§å®Ÿè£…
- è¤‡é›‘ãªçŠ¶æ…‹: å¿…è¦ã«å¿œã˜ã¦ Redux/Zustand æ¤œè¨
- ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: å¯èƒ½ãªé™ã‚Šæ´»ç”¨ã—ã¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š

**å®Ÿè£…äºˆå®š:**

```typescript
// src/context/QuestionnaireContext.tsx
import { createContext, useContext, ReactNode } from 'react';

interface QuestionnaireContextType {
  location: string | null;
  duration: string | null;
  symptoms: string[];
  // ... ãã®ä»–ã®å›ç­”
  updateAnswer: (key: string, value: any) => void;
}

const QuestionnaireContext = createContext<QuestionnaireContextType | null>(null);

export function QuestionnaireProvider({ children }: { children: ReactNode }) {
  // å®Ÿè£…
  return <QuestionnaireContext.Provider value={{...}}>{children}</QuestionnaireContext.Provider>;
}

export function useQuestionnaire() {
  const context = useContext(QuestionnaireContext);
  if (!context) throw new Error('useQuestionnaire must be used within QuestionnaireProvider');
  return context;
}
```

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°æˆ¦ç•¥

**Tailwind CSS + CSS å¤‰æ•°**

```css
/* src/app/globals.css */
:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary: #1e40af;        /* é¸æŠæ™‚ã®ãƒ–ãƒ«ãƒ¼ */
  --success: #16a34a;         /* æˆåŠŸæ™‚ã®ã‚°ãƒªãƒ¼ãƒ³ */
  --error: #dc2626;           /* ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ¬ãƒƒãƒ‰ */
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨:**

```tsx
export default function Button({ children, variant = 'primary' }: Props) {
  const baseClass = "px-4 py-2 rounded min-h-[48px] font-medium";
  const variantClass = variant === 'primary' 
    ? 'bg-primary text-white' 
    : 'bg-gray-100 text-foreground';
  
  return <button className={`${baseClass} ${variantClass}`}>{children}</button>;
}
```

---

## Next.js 15 App Router ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### Server Components vs Client Components

**åŸºæœ¬åŸå‰‡:**

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Server Component**: å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§Server Component
- **Client Componentã¯å¿…è¦ãªæ™‚ã®ã¿**: `'use client'` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’è¿½åŠ ã—ãŸæ™‚ã®ã¿Client Component
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå¢ƒç•Œã‚’æœ€å°åŒ–**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªéƒ¨åˆ†ã®ã¿ã‚’Client Componentã«åˆ†é›¢

**æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³:**

```typescript
// âœ… è‰¯ã„ä¾‹: Server Componentã‹ã‚‰Client Componentã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™
// app/page.tsx (Server Component)
import LikeButton from '@/components/LikeButton'
import { getPost } from '@/lib/data'

export default async function Page({ params }: { params: Promise<{ id: string }> }) {
  const { id } = await params
  const post = await getPost(id)

  return (
    <div>
      <h1>{post.title}</h1>
      <LikeButton likes={post.likes} />
    </div>
  )
}
```

```typescript
// components/LikeButton.tsx (Client Component)
'use client'
import { useState } from 'react'

export default function LikeButton({ likes }: { likes: number }) {
  const [count, setCount] = useState(likes)
  return (
    <button onClick={() => setCount(count + 1)}>
      ã„ã„ã­ {count}
    </button>
  )
}
```

**Server Componentã«ãƒã‚¹ãƒˆã•ã‚ŒãŸ Client Component:**

```typescript
// âœ… è‰¯ã„ä¾‹: childrenãƒ—ãƒ­ãƒƒãƒ—ã‚’ä½¿ã£ã¦Server Componentã‚’Client Componentå†…ã«é…ç½®
// components/Modal.tsx (Client Component)
'use client'

export default function Modal({ children }: { children: React.ReactNode }) {
  return <div className="modal">{children}</div>
}
```

```typescript
// app/page.tsx (Server Component)
import Modal from '@/components/Modal'
import Cart from '@/components/Cart' // Server Component

export default function Page() {
  return (
    <Modal>
      <Cart /> {/* Server Componentã®ã¾ã¾ */}
    </Modal>
  )
}
```

**Layoutæ§‹æˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:**

```typescript
// app/layout.tsx (Server Component)
import Search from '@/components/Search' // Client Component
import Logo from '@/components/Logo'     // Server Component

export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <>
      <nav>
        <Logo />        {/* é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <Search />      {/* ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ¤œç´¢ */}
      </nav>
      <main>{children}</main>
    </>
  )
}
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³

**Server Componentã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ï¼ˆæ¨å¥¨ï¼‰:**

```typescript
// app/hospitals/page.tsx
export default async function HospitalsPage() {
  // Server Componentã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ
  const hospitals = await fetch('https://api.example.com/hospitals', {
    cache: 'no-store' // Next.js 15ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œ
  }).then(res => res.json())

  return (
    <div>
      {hospitals.map(hospital => (
        <HospitalCard key={hospital.id} hospital={hospital} />
      ))}
    </div>
  )
}
```

**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ªãƒ—ã‚·ãƒ§ãƒ³:**

```typescript
// 1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ï¼‰
fetch(url, { cache: 'no-store' })

// 2. æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®å†æ¤œè¨¼ï¼ˆISR - Incremental Static Regenerationï¼‰
fetch(url, { next: { revalidate: 3600 } }) // 1æ™‚é–“ã”ã¨ã«å†æ¤œè¨¼

// 3. ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å†æ¤œè¨¼
import { revalidatePath, revalidateTag } from 'next/cache'

// ç‰¹å®šã®ãƒ‘ã‚¹ã‚’å†æ¤œè¨¼
revalidatePath('/hospitals')

// ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ã®å†æ¤œè¨¼
fetch(url, { next: { tags: ['hospitals'] } })
revalidateTag('hospitals')
```

**Supabaseã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ä¾‹:**

```typescript
// lib/supabase.ts
import { createClient } from '@supabase/supabase-js'

export const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)

// app/hospitals/page.tsx
import { supabase } from '@/lib/supabase'

export default async function HospitalsPage() {
  const { data: hospitals, error } = await supabase
    .from('hospitals')
    .select('*')
    .order('name')

  if (error) {
    throw new Error('ç—…é™¢ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ')
  }

  return (
    <div>
      {hospitals.map(hospital => (
        <HospitalCard key={hospital.id} hospital={hospital} />
      ))}
    </div>
  )
}
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥

**Next.js 15ã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°éšå±¤:**

1. **Request Memoization**: åŒä¸€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ä¸­ã®åŒã˜ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è‡ªå‹•çš„ã«ãƒ¡ãƒ¢åŒ–
2. **Data Cache**: ã‚µãƒ¼ãƒãƒ¼å´ã§ã®ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `no-store`ï¼‰
3. **Full Route Cache**: ãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„ãƒšãƒ¼ã‚¸ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
4. **Router Cache**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ«ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥

**`use cache` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆNext.js 15æ–°æ©Ÿèƒ½ï¼‰:**

```typescript
// ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¬ãƒ™ãƒ«ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
'use cache'

export default async function Page() {
  const data = await fetchData()
  return <div>{data}</div>
}
```

```typescript
// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
export async function ExpensiveComponent() {
  'use cache'
  const result = await heavyComputation()
  return <div>{result}</div>
}
```

```typescript
// é–¢æ•°ãƒ¬ãƒ™ãƒ«ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
export async function getData() {
  'use cache'
  const data = await fetch('/api/data')
  return data
}
```

**ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°:**

```typescript
// app/layout.tsx
'use cache'

export default function Layout({ children }: { children: ReactNode }) {
  return <div>{children}</div>
}

// app/page.tsx
'use cache'

async function Users() {
  const users = await fetch('/api/users')
  // ...
}

export default function Page() {
  return (
    <main>
      <Users />
    </main>
  )
}
```

**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç„¡åŠ¹åŒ–:**

```typescript
// å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¸ã®ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆ
export const dynamic = 'force-dynamic'

export default async function Page() {
  const data = await fetch(url, { cache: 'no-store' })
  return <div>{data}</div>
}
```

### Server Actions ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**åŸºæœ¬çš„ãªServer Action:**

```typescript
// app/actions.ts
'use server'

export async function createHospital(formData: FormData) {
  const name = formData.get('name') as string
  const address = formData.get('address') as string

  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ä¿å­˜
  const { data, error } = await supabase
    .from('hospitals')
    .insert({ name, address })

  if (error) {
    throw new Error('ç—…é™¢ã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ')
  }

  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å†æ¤œè¨¼
  revalidatePath('/admin/hospitals')

  return { success: true, data }
}
```

**ãƒ•ã‚©ãƒ¼ãƒ ã§ã®ä½¿ç”¨:**

```typescript
// app/admin/hospitals/new/page.tsx
import { createHospital } from '@/app/actions'

export default function NewHospitalPage() {
  return (
    <form action={createHospital}>
      <input type="text" name="name" required />
      <input type="text" name="address" required />
      <button type="submit">ç™»éŒ²</button>
    </form>
  )
}
```

**è¿½åŠ ã®å¼•æ•°ã‚’æ¸¡ã™ï¼ˆbind ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰:**

```typescript
// app/actions.ts
'use server'

export async function updateHospital(hospitalId: string, formData: FormData) {
  const name = formData.get('name') as string
  // ...æ›´æ–°å‡¦ç†
}

// app/admin/hospitals/[id]/edit.tsx
'use client'

import { updateHospital } from '@/app/actions'

export function HospitalEditForm({ hospitalId }: { hospitalId: string }) {
  const updateWithId = updateHospital.bind(null, hospitalId)

  return (
    <form action={updateWithId}>
      <input type="text" name="name" />
      <button type="submit">æ›´æ–°</button>
    </form>
  )
}
```

**èªè¨¼ãƒã‚§ãƒƒã‚¯ä»˜ãServer Action:**

```typescript
// app/actions.ts
'use server'

import { verifySession } from '@/lib/auth'

export async function adminAction(formData: FormData) {
  const session = await verifySession()
  const userRole = session?.user?.role

  // æ¨©é™ãƒã‚§ãƒƒã‚¯
  if (userRole !== 'admin') {
    throw new Error('ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ã§ã™')
  }

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
  // ...
}
```

**Server Actionã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š:**

```javascript
// next.config.ts
const config = {
  experimental: {
    serverActions: {
      bodySizeLimit: '1mb',
      allowedOrigins: ['your-domain.com'],
    },
  },
}
```

**ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³Server Action:**

```typescript
// app/page.tsx (Server Component)
export default function Page() {
  async function publish(formData: FormData) {
    'use server'
    const title = formData.get('title')
    // ...å‡¦ç†
  }

  return (
    <form action={publish}>
      <input name="title" />
      <button type="submit">å…¬é–‹</button>
    </form>
  )
}
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

**ç”»åƒæœ€é©åŒ–ï¼ˆnext/imageï¼‰:**

```typescript
import Image from 'next/image'

export function HospitalCard({ hospital }) {
  return (
    <div>
      <Image
        src={hospital.imageUrl || '/placeholder.png'}
        alt={hospital.name}
        width={500}
        height={300}
        priority={false} // Above the fold ã®ç”»åƒã®ã¿ true
        placeholder="blur"
        blurDataURL="data:image/..."
      />
      <h2>{hospital.name}</h2>
    </div>
  )
}
```

**ãƒ•ã‚©ãƒ³ãƒˆæœ€é©åŒ–ï¼ˆnext/fontï¼‰:**

```typescript
// app/layout.tsx
import { Inter, Noto_Sans_JP } from 'next/font/google'

const inter = Inter({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-inter',
})

const notoSansJP = Noto_Sans_JP({
  subsets: ['japanese'],
  display: 'swap',
  weight: ['400', '700'],
  variable: '--font-noto-sans-jp',
})

export default function RootLayout({ children }) {
  return (
    <html lang="ja" className={`${inter.variable} ${notoSansJP.variable}`}>
      <body>{children}</body>
    </html>
  )
}
```

```css
/* globals.css */
body {
  font-family: var(--font-noto-sans-jp), sans-serif;
}
```

**å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆé…å»¶ãƒ­ãƒ¼ãƒ‰ï¼‰:**

```typescript
import dynamic from 'next/dynamic'

// Client Componentã®é…å»¶ãƒ­ãƒ¼ãƒ‰
const HeavyComponent = dynamic(() => import('@/components/HeavyComponent'), {
  loading: () => <p>èª­ã¿è¾¼ã¿ä¸­...</p>,
  ssr: false, // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã®ã¿ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
})

export default function Page() {
  return (
    <div>
      <HeavyComponent />
    </div>
  )
}
```

**ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æˆ¦ç•¥:**

```typescript
// é™çš„ç”Ÿæˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
export default async function Page() {
  const data = await fetch(url, { next: { revalidate: 3600 } })
  return <div>{data}</div>
}

// å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
export const dynamic = 'force-dynamic'

export default async function Page() {
  const data = await fetch(url, { cache: 'no-store' })
  return <div>{data}</div>
}

// Partial Prerendering (PPR) - å®Ÿé¨“çš„æ©Ÿèƒ½
export const experimental_ppr = true

export default function Page() {
  return (
    <div>
      <StaticPart />        {/* é™çš„ã«ç”Ÿæˆ */}
      <Suspense fallback={<Loading />}>
        <DynamicPart />     {/* å‹•çš„ã«ç”Ÿæˆ */}
      </Suspense>
    </div>
  )
}
```

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³

**å‹•çš„ãƒ«ãƒ¼ãƒˆ:**

```typescript
// app/hospital/[id]/page.tsx
export default async function HospitalDetailPage({
  params,
}: {
  params: Promise<{ id: string }>
}) {
  const { id } = await params
  const hospital = await getHospital(id)

  return <div>{hospital.name}</div>
}

// é™çš„ç”Ÿæˆç”¨ã®ãƒ‘ã‚¹ä¸€è¦§
export async function generateStaticParams() {
  const hospitals = await getHospitals()

  return hospitals.map((hospital) => ({
    id: hospital.id,
  }))
}
```

**ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ«ãƒ¼ãƒˆï¼ˆåŒæ™‚è¡¨ç¤ºï¼‰:**

```
app/
â”œâ”€â”€ @modal/
â”‚   â””â”€â”€ (..)photo/[id]/
â”‚       â””â”€â”€ page.tsx
â””â”€â”€ page.tsx
```

```typescript
// app/layout.tsx
export default function Layout({
  children,
  modal,
}: {
  children: React.ReactNode
  modal: React.ReactNode
}) {
  return (
    <>
      {children}
      {modal}
    </>
  )
}
```

**ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒˆï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰:**

```
app/
â”œâ”€â”€ photos/
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx        # /photos/123 ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹
â””â”€â”€ @modal/
    â””â”€â”€ (..)photos/[id]/
        â””â”€â”€ page.tsx        # ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ãƒˆ
```

```typescript
// app/@modal/(..)photos/[id]/page.tsx
export default async function PhotoModal({
  params,
}: {
  params: Promise<{ id: string }>
}) {
  const { id } = await params
  const photo = await getPhoto(id)

  return (
    <div className="modal">
      <Image src={photo.url} alt={photo.title} />
    </div>
  )
}
```

**ãƒ«ãƒ¼ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆURLã«å½±éŸ¿ã—ãªã„ï¼‰:**

```
app/
â”œâ”€â”€ (marketing)/
â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â””â”€â”€ page.tsx       # /about
â”‚   â””â”€â”€ blog/
â”‚       â””â”€â”€ page.tsx       # /blog
â””â”€â”€ (shop)/
    â”œâ”€â”€ products/
    â”‚   â””â”€â”€ page.tsx       # /products
    â””â”€â”€ cart/
        â””â”€â”€ page.tsx       # /cart
```

**Middleware ã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°åˆ¶å¾¡:**

```typescript
// middleware.ts
import { NextResponse } from 'next/server'
import type { NextRequest } from 'next/server'

export function middleware(request: NextRequest) {
  const isAdmin = request.cookies.get('admin-token')

  // ç®¡ç†ç”»é¢ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
  if (request.nextUrl.pathname.startsWith('/admin')) {
    if (!isAdmin) {
      return NextResponse.redirect(new URL('/login', request.url))
    }
  }

  return NextResponse.next()
}

export const config = {
  matcher: '/admin/:path*',
}
```

### é–‹ç™ºæ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ:**

- [ ] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªéƒ¨åˆ†ã®ã¿ã‚’Client Componentã«åˆ†é›¢
- [ ] Server Componentã§å¯èƒ½ãªé™ã‚Šãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°
- [ ] `children` ãƒ—ãƒ­ãƒƒãƒ—ã‚’ä½¿ã£ã¦Server/Client Componentã‚’æ§‹æˆ

**ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°:**

- [ ] é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ã‚’é¸æŠï¼ˆ`no-store`, `revalidate`, `tags`ï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’æä¾›ï¼ˆ`loading.tsx` ã¾ãŸã¯ `Suspense`ï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:**

- [ ] `next/image` ã‚’ä½¿ç”¨ã—ã¦ç”»åƒã‚’æœ€é©åŒ–
- [ ] `next/font` ã§ãƒ•ã‚©ãƒ³ãƒˆã‚’æœ€é©åŒ–
- [ ] é‡ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- [ ] ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ãï¼ˆ`memo`, `useMemo`, `useCallback`ï¼‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:**

- [ ] Server Actionã«èªè¨¼ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…
- [ ] ç’°å¢ƒå¤‰æ•°ã‚’é©åˆ‡ã«ç®¡ç†ï¼ˆ`NEXT_PUBLIC_*` ã®ä½¿ã„åˆ†ã‘ï¼‰
- [ ] CSRFãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ï¼ˆServer Actionsã® `allowedOrigins` è¨­å®šï¼‰

**ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£:**

- [ ] ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTML ã‚’ä½¿ç”¨
- [ ] `alt` å±æ€§ã‚’ç”»åƒã«è¿½åŠ 
- [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆ
- [ ] é©åˆ‡ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã‚’ç¶­æŒï¼ˆWCAG AAä»¥ä¸Šï¼‰

---

## API è¨­è¨ˆï¼ˆå®Ÿè£…äºˆå®šï¼‰

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

#### ãƒ‘ãƒ–ãƒªãƒƒã‚¯ APIï¼ˆèªè¨¼ä¸è¦ï¼‰

```
POST /api/symptoms/generate
  å…¥åŠ›: { location, duration, symptoms, conditions, medicine, memo }
  å‡ºåŠ›: { description: string }
  èª¬æ˜: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã§ç—‡çŠ¶èª¬æ˜æ–‡ã‚’ç”Ÿæˆ

POST /api/symptoms/ai-diagnosis (å®Ÿé¨“çš„)
  å…¥åŠ›: { location, duration, symptoms, conditions, medicine, memo }
  å‡ºåŠ›: { analysis: string }
  èª¬æ˜: OpenAI API ã§ AI è¨ºæ–­ï¼ˆåˆæœŸãƒªãƒªãƒ¼ã‚¹ã§ã¯ç„¡åŠ¹åŒ–ï¼‰
  ç’°å¢ƒå¤‰æ•°: NEXT_PUBLIC_AI_DIAGNOSIS

GET /api/hospitals
  å…¥åŠ›: ãªã—
  å‡ºåŠ›: { hospitals: Hospital[] }
  èª¬æ˜: å…¨ç—…é™¢ãƒªã‚¹ãƒˆã‚’å–å¾—

GET /api/hospitals/search
  å…¥åŠ›: { categories: string[] }
  å‡ºåŠ›: { hospitals: Hospital[] }
  èª¬æ˜: è¨ºç™‚ç§‘ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦æ¤œç´¢
```

#### ç®¡ç† APIï¼ˆèªè¨¼å¿…é ˆï¼‰

```
POST /api/admin/hospitals
  å…¥åŠ›: { name, categories, address, tel, city, opening_hours, google_map_url, note }
  å‡ºåŠ›: { hospital: Hospital }
  èª¬æ˜: ç—…é™¢æƒ…å ±ã‚’æ–°è¦ç™»éŒ²

PUT /api/admin/hospitals/:id
  å…¥åŠ›: { name, categories, ... }
  å‡ºåŠ›: { hospital: Hospital }
  èª¬æ˜: ç—…é™¢æƒ…å ±ã‚’æ›´æ–°

DELETE /api/admin/hospitals/:id
  å…¥åŠ›: ãªã—
  å‡ºåŠ›: { success: boolean }
  èª¬æ˜: ç—…é™¢æƒ…å ±ã‚’å‰Šé™¤

POST /api/admin/import
  å…¥åŠ›: FormData (CSV/Excel ãƒ•ã‚¡ã‚¤ãƒ«)
  å‡ºåŠ›: { imported: number, errors: string[] }
  èª¬æ˜: CSV/Excel ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¸€æ‹¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
```

### å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

**App Router ã§ã® API ãƒ«ãƒ¼ãƒˆ (`src/app/api/[route]/route.ts`):**

```typescript
// src/app/api/symptoms/generate/route.ts
import { NextRequest, NextResponse } from 'next/server';

export async function POST(request: NextRequest) {
  try {
    const body = await request.json();
    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æ–‡å­—åˆ—ç”Ÿæˆ
    return NextResponse.json({ description: '...' });
  } catch (error) {
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });
  }
}
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆSupabaseï¼‰

### hospitals ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE hospitals (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  category TEXT[] NOT NULL,  -- è¤‡æ•°è¨ºç™‚ç§‘å¯¾å¿œ
  address TEXT NOT NULL,
  tel TEXT NOT NULL,
  city TEXT NOT NULL,
  opening_hours TEXT,
  google_map_url TEXT,
  note TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_hospitals_city ON hospitals(city);
CREATE INDEX idx_hospitals_category ON hospitals USING GIN(category);
```

### hospital_schedules ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE hospital_schedules (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  hospital_id UUID NOT NULL REFERENCES hospitals(id) ON DELETE CASCADE,
  day_of_week INTEGER NOT NULL CHECK (day_of_week >= 0 AND day_of_week <= 6),
  morning_start TIME,
  morning_end TIME,
  afternoon_start TIME,
  afternoon_end TIME,
  is_closed BOOLEAN DEFAULT false,
  note TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(hospital_id, day_of_week)
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_hospital_schedules_hospital_id ON hospital_schedules(hospital_id);

-- ã‚³ãƒ¡ãƒ³ãƒˆ
-- day_of_week: 0=æ—¥, 1=æœˆ, 2=ç«, 3=æ°´, 4=æœ¨, 5=é‡‘, 6=åœŸ
-- morning_start/end: åˆå‰è¨ºç™‚æ™‚é–“
-- afternoon_start/end: åˆå¾Œè¨ºç™‚æ™‚é–“
-- is_closed: ä¼‘è¨ºæ—¥ãƒ•ãƒ©ã‚°
-- note: å‚™è€ƒï¼ˆç¬¬3åœŸæ›œä¼‘è¨ºãªã©ï¼‰
```

### Supabase Auth è¨­å®š

- èªè¨¼æ–¹æ³•: ãƒ¡ãƒ¼ãƒ« + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
- ç®¡ç†è€…æ•°: 1 åã®ã¿ç™»éŒ²å¯èƒ½
- RLS (Row Level Security): ç®¡ç†ç”»é¢ã§ç®¡ç†è€…ãƒã‚§ãƒƒã‚¯å®Ÿè£…

---

## é–‹ç™ºæ™‚ã®é‡è¦ãªåŸå‰‡

### ã‚³ãƒ¼ãƒ‰å“è³ªã®åŸºæº–ï¼ˆã“ã® ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨ï¼‰

1. **TypeScript å³æ ¼ãƒ¢ãƒ¼ãƒ‰**
   - `tsconfig.json` ã® `"strict": true` ã‚’éµå®ˆ
   - `any` å‹ã®ä½¿ç”¨ã¯æœ€å°é™ã«ï¼ˆç‰¹ã« API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰
   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ Props ã¯å¿…ãšå‹å®šç¾©

2. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚¨ãƒ©ãƒ¼: UI ã«æ˜ç¢ºã«è¡¨ç¤ºï¼ˆèµ¤è‰²ã€å¤§ããªãƒ•ã‚©ãƒ³ãƒˆï¼‰
   - ã‚µãƒ¼ãƒãƒ¼å´ã‚¨ãƒ©ãƒ¼: è©³ç´°ã¯ consoleã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯ç°¡æ½”ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ã‚’æ¤œè¨

3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆa11yï¼‰**
   - ã‚·ãƒ‹ã‚¢å‘ã‘: æœ€å°ãƒ•ã‚©ãƒ³ãƒˆ 18pxï¼ˆå¤§æ–‡å­—ãƒ¢ãƒ¼ãƒ‰ã§ 24pxï¼‰
   - ã‚¿ãƒƒãƒ—ã‚¨ãƒªã‚¢: æœ€å° 48px Ã— 48px
   - ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”: WCAG AA ãƒ¬ãƒ™ãƒ«ä»¥ä¸Š
   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ

4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - ä¸è¦ãª Re-render æœ€å°åŒ–ï¼ˆReact.memo, useMemo æ´»ç”¨ï¼‰
   - ç”»åƒ: Next.js Image ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
   - API ã‚­ãƒ£ãƒƒã‚·ãƒ¥: Supabase ã‚¯ã‚¨ãƒªçµæœã¯ãƒ¡ãƒ¢åŒ–

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦ç´„

- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: PascalCase (ä¾‹: `QuestionnaireForm.tsx`)
- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°: camelCase (ä¾‹: `formatDate.ts`)
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `.test.ts` ã¾ãŸã¯ `.spec.ts` ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹
- API ãƒ«ãƒ¼ãƒˆ: ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ (ä¾‹: `route.ts`)

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„

```
feat: æ–°æ©Ÿèƒ½ã®å®Ÿè£…
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
refactor: ã‚³ãƒ¼ãƒ‰ã®å†æ§‹æˆï¼ˆæ©Ÿèƒ½å¤‰æ›´ãªã—ï¼‰
chore: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ›´æ–°ç­‰ã®ä¿å®ˆä½œæ¥­
```

ä¾‹:
```
feat: implement questionnaire form component
fix: correct symptom mapping logic for throat symptoms
docs: update API documentation for hospital search endpoint
```

---

## ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.env.local / Vercelï¼‰

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xsydqbczmzfufeywjfps.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...  # ç®¡ç†æ©Ÿèƒ½ç”¨ï¼ˆã‚µãƒ¼ãƒãƒ¼å´ã®ã¿ï¼‰

# ç®¡ç†ç”»é¢èªè¨¼
ADMIN_PASSWORD=...  # ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰

# OpenAI (AIè¨ºæ–­æ©Ÿèƒ½)
OPENAI_API_KEY=sk-proj-...
NEXT_PUBLIC_AI_DIAGNOSIS=true  # AIè¨ºæ–­ã‚’æœ‰åŠ¹åŒ–ï¼ˆæœ¬ç•ªã§ã‚‚æœ‰åŠ¹ï¼‰

# Google Maps (å°†æ¥ã® URL ç”Ÿæˆç”¨)
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=...  # ã‚ªãƒ—ã‚·ãƒ§ãƒ³
```

**Vercelç’°å¢ƒå¤‰æ•°è¨­å®š:**
ä¸Šè¨˜ã®ç’°å¢ƒå¤‰æ•°ã¯Vercelã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > Environment Variables ã«è¨­å®šæ¸ˆã¿ã€‚

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„:**

- API ã‚­ãƒ¼ã¯ `.env.local` ã«è¨˜è¼‰ã—ã€`.gitignore` ã«è¿½åŠ 
- `NEXT_PUBLIC_*` ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å¿…è¦ãªå ´åˆã®ã¿ä½¿ç”¨
- Server-only ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ: ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ãªã—ï¼ˆ`OPENAI_API_KEY` ãªã©ï¼‰

---

## å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹

### AI è¨ºæ–­æ©Ÿèƒ½ã®å–ã‚Šæ‰±ã„

ã“ã®æ©Ÿèƒ½ã¯ **å®Ÿé¨“çš„** ã§ã™ãŒã€æœ¬ç•ªç’°å¢ƒã§ **æœ‰åŠ¹åŒ–** ã•ã‚Œã¦ã„ã¾ã™ã€‚

**ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:**
- âœ… å…è²¬äº‹é …ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ„ãƒ•ãƒ­ãƒ¼å®Ÿè£…å®Œäº†
- âœ… æœ¬ç•ªç’°å¢ƒã§æœ‰åŠ¹åŒ–æ¸ˆã¿ï¼ˆ`NEXT_PUBLIC_AI_DIAGNOSIS=true`ï¼‰
- âš ï¸ åˆ©ç”¨è€…ã‚’é™å®šã—ã¦ãƒ†ã‚¹ãƒˆé‹ç”¨ä¸­

**å®Ÿè£…ä¾‹:**

```typescript
const isAIDiagnosisEnabled = process.env.NEXT_PUBLIC_AI_DIAGNOSIS === 'true';

export async function generateAIDiagnosis(symptoms: Symptoms) {
  if (!isAIDiagnosisEnabled) {
    throw new Error('AI diagnosis is not enabled in this environment');
  }
  // OpenAI API å‘¼ã³å‡ºã—
}
```

### åŒ»ç™‚æ³•ã¸ã®æº–æ‹ 

- ã€Œè¨ºæ–­ã€ã€Œæ²»ç™‚ã€ãªã©ã®åŒ»ç™‚ç”¨èªã‚’é¿ã‘ã‚‹ï¼ˆã€Œå‚è€ƒæƒ…å ±ã€ã€Œå—è¨ºã®ç›®å®‰ã€ã¨è¡¨ç¾ï¼‰
- å¿…ãšã€ŒåŒ»å¸«ã®è¨ºå¯Ÿã‚’å—ã‘ã¦ãã ã•ã„ã€ã‚’æ˜è¨˜
- AI è¨ºæ–­çµæœã«ã¯ã€ŒåŒ»å­¦çš„è¨ºæ–­ã§ã¯ãªã„ã€ã¨å¼·èª¿è¡¨ç¤º

### ç”»åƒä¿å­˜æ©Ÿèƒ½ï¼ˆhtml2canvasï¼‰

- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆåŒ–ã¯ **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã¿**ï¼ˆã‚µãƒ¼ãƒãƒ¼ã§å‡¦ç†ã—ãªã„ï¼‰
- ä¿å­˜å…ˆã¯ **ç«¯æœ«ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** ã®ã¿ï¼ˆã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã—ãªã„ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç—‡çŠ¶ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã—ãªã„

---

## é–‹ç™ºæ™‚ã®ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•

### VS Code ã§ã® TypeScript ã‚¨ãƒ©ãƒ¼ç¢ºèª

```bash
# CLI ã§å‹ãƒã‚§ãƒƒã‚¯
npx tsc --noEmit
```

### Next.js é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®ãƒ­ã‚°

```bash
npm run dev
# â†’ http://localhost:3000
# â†’ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ HMR (Hot Module Replacement) é€šçŸ¥
```

### Supabase ã®ç¢ºèª

- æ¥ç¶šç¢ºèª: https://supabase.com/dashboard
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª: Supabase Studio ã® SQL ã‚¨ãƒ‡ã‚£ã‚¿
- MCP ã‚µãƒ¼ãƒãƒ¼: `.mcp.json` ã§è¨­å®šæ¸ˆã¿

---

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ï¼ˆè¨ˆç”»ä¸­ï¼‰

- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: Vitest ã¾ãŸã¯ Jest
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: Cypress ã¾ãŸã¯ Playwright
- **E2E ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ

**é‡ç‚¹ç®‡æ‰€:**

- ç—‡çŠ¶èª¬æ˜æ–‡ã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
- è¨ºç™‚ç§‘ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆç—‡çŠ¶ â†’ æ¨å¥¨ç§‘ã®å¯¾å¿œï¼‰
- ç®¡ç†ç”»é¢ã® CRUD æ“ä½œ
- AI è¨ºæ–­ã®å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ï¼‰

---

## é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†çŠ¶æ³

### âœ… Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆå®Œäº†ï¼‰
- Next.js 15 + React 19 + TypeScript
- Supabase é€£æº
- åŸºæœ¬UIæ§‹ç¯‰

### âœ… Phase 2: ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆå®Œäº†ï¼‰
- ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½
- ç—‡çŠ¶èª¬æ˜æ–‡ç”Ÿæˆ
- è¨ºç™‚ç§‘ãƒãƒƒãƒ”ãƒ³ã‚°
- ç—…é™¢æ¤œç´¢ãƒ»è¡¨ç¤º

### âœ… Phase 3: ç®¡ç†æ©Ÿèƒ½ï¼ˆå®Œäº†ï¼‰
- ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
- ç—…é™¢ CRUD æ“ä½œ
- CSV/Excel ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- è¨ºç™‚æ™‚é–“ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†

### âœ… Phase 4: AI è¨ºæ–­æ©Ÿèƒ½ï¼ˆå®Œäº†ãƒ»é‹ç”¨ä¸­ï¼‰
- OpenAI API é€£æº
- å…è²¬äº‹é …ãƒ»åŒæ„ãƒ•ãƒ­ãƒ¼
- æœ¬ç•ªç’°å¢ƒã§æœ‰åŠ¹åŒ–æ¸ˆã¿

### âœ… Phase 5: æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆå®Œäº†ï¼‰
- Vercel ãƒ‡ãƒ—ãƒ­ã‚¤
- ç’°å¢ƒå¤‰æ•°è¨­å®š
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Œäº†

### ä»Šå¾Œã®æ‹¡å¼µäºˆå®š
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°åé›†ï¼ˆSentry ç­‰ã®å°å…¥æ¤œè¨ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ†æï¼ˆGoogle Analytics ç­‰ï¼‰
- ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆVitest/Playwrightï¼‰
- PWAå¯¾å¿œ

---

## ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰

### Q: ã©ã†ã‚„ã£ã¦é–‹ç™ºã‚’å§‹ã‚ã‚‹ã‹ï¼Ÿ

```bash
cd /home/masayuki/NextJs/byouin-nabi
npm install  # ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›ã®ã¿ï¼‰
npm run dev  # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
# http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
```

### Q: Path Alias `@/` ã®ä½¿ã„æ–¹ã¯ï¼Ÿ

```typescript
// Bad
import Button from '../../components/Button';

// Good
import Button from '@/components/Button';
```

### Q: Tailwind CSS ã§ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã‚’ä½¿ã„ãŸã„

```typescript
// tailwind.config.ts ã«è¿½åŠ 
const config: Config = {
  theme: {
    extend: {
      colors: {
        primary: 'var(--primary)',  // CSS å¤‰æ•°ã‚’å‚ç…§
        'custom-blue': '#0066cc',
      },
    },
  },
};
```

### Q: ç’°å¢ƒå¤‰æ•°ã‚’æ–°è¦è¿½åŠ ã—ãŸã‚‰ï¼Ÿ

1. `.env.local` ã«è¿½åŠ 
2. `NEXT_PUBLIC_` ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ã¤ã‘ã‚‹ã‹æ¤œè¨ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å¿…è¦ã‹ï¼‰
3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•

### Q: Supabase ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’å¤‰æ›´ã—ãŸã„

1. Supabase Studio (`https://supabase.com/dashboard`) ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
2. ã¾ãŸã¯ SQL ã‚¨ãƒ‡ã‚£ã‚¿ã‹ã‚‰ç›´æ¥å®Ÿè¡Œ
3. ãƒ­ãƒ¼ã‚«ãƒ«å‹ç”Ÿæˆ: `npx supabase gen types typescript --project-id [ID]`

---

## å‚è€ƒè³‡æ–™ãƒ»ãƒªãƒ³ã‚¯

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Next.js 15 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs)
- [React 19 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev)
- [Tailwind CSS ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tailwindcss.com/docs)
- [Supabase ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://supabase.com/docs)
- [TypeScript ãƒãƒ³ãƒ‰ãƒ–ãƒƒã‚¯](https://www.typescriptlang.org/docs/)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `/home/masayuki/NextJs/byouin-nabi/REQUIREMENTS.md` - è©³ç´°ãªè¦ä»¶å®šç¾©æ›¸
- `/home/masayuki/NextJs/byouin-nabi/README.md` - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

### å¤–éƒ¨ API

- [OpenAI API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://platform.openai.com/docs) (å®Ÿé¨“çš„æ©Ÿèƒ½ç”¨)
- [Google Maps Platform](https://developers.google.com/maps) (å°†æ¥å¯¾å¿œ)

---

## æœ€å¾Œã«

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **ã‚·ãƒ‹ã‚¢å±¤ã‚’å¯¾è±¡ã«ã—ãŸåŒ»ç™‚æƒ…å ±ã‚µãƒ¼ãƒ“ã‚¹** ã§ã™ã€‚

**é–‹ç™ºæ™‚ã«å¿…ãšæ„è­˜ã™ã‚‹ã“ã¨:**

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸­å¿ƒè¨­è¨ˆ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®èª¬æ˜æ–‡ç”Ÿæˆã§ã€ã‚·ãƒ‹ã‚¢å±¤ã«ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã
2. **åŒ»ç™‚æ³•æº–æ‹ **: ã€Œè¨ºæ–­ã€ã¯è¡Œã‚ãªã„ã€ã€Œå‚è€ƒæƒ…å ±ã€ã§ã‚ã‚‹æ—¨ã‚’å¸¸ã«æ˜è¨˜
3. **å“è³ªç¬¬ä¸€**: åŒ»ç™‚é–¢é€£ã‚µãƒ¼ãƒ“ã‚¹ã®ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ã‚„ãƒã‚°ã¯è¨±ã•ã‚Œãªã„
4. **æ®µéšçš„å®Ÿè£…**: å®Ÿé¨“çš„æ©Ÿèƒ½ï¼ˆAI è¨ºæ–­ï¼‰ã¯ç„¡åŠ¹çŠ¶æ…‹ã§ãƒªãƒªãƒ¼ã‚¹ã€ååˆ†ãªãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã«æœ‰åŠ¹åŒ–
5. **ä¿å®ˆæ€§**: å°†æ¥ã®æ”¹ä¿®ã‚’è¦‹æ®ãˆã€DRY åŸå‰‡ãƒ»é©åˆ‡ãªå‘½åãƒ»ãƒ†ã‚¹ãƒˆã‚’å¿ƒãŒã‘ã‚‹

---

## ãƒã‚±ãƒƒãƒˆç®¡ç†ã¨Todoé‹ç”¨

### ãƒã‚±ãƒƒãƒˆã®å ´æ‰€

`/home/masayuki/NextJs/byouin-nabi/docs/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ©Ÿèƒ½åˆ¥ã®ãƒã‚±ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ãƒã‚±ãƒƒãƒˆä¸€è¦§

- **000-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—.md**
- **001-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»æ§‹ç¯‰.md**
- **002-åŸºæœ¬UIæ§‹ç¯‰.md**
- **003-ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£….md**
- **004-ç—‡çŠ¶èª¬æ˜æ–‡ç”Ÿæˆæ©Ÿèƒ½.md**
- **005-è¨ºç™‚ç§‘ãƒãƒƒãƒ”ãƒ³ã‚°æ©Ÿèƒ½.md**
- **006-ç—…é™¢æ¤œç´¢ãƒ»è¡¨ç¤ºæ©Ÿèƒ½.md**
- **007-ç”»åƒä¿å­˜æ©Ÿèƒ½.md**
- **008-ç®¡ç†ç”»é¢æ§‹ç¯‰.md**
- **009-ç—…é™¢CRUDæ©Ÿèƒ½.md**
- **010-CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½.md**
- **011-AIè¨ºæ–­æ©Ÿèƒ½å®Ÿè£….md**ï¼ˆå®Ÿé¨“çš„ã€åˆæœŸãƒªãƒªãƒ¼ã‚¹æ™‚ã¯ã‚¹ã‚­ãƒƒãƒ—å¯ï¼‰
- **012-UIUXãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—.md**
- **013-ãƒ†ã‚¹ãƒˆå®Ÿè£….md**
- **014-æœ¬ç•ªç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤.md**

è©³ç´°ã¯ `/docs/README.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### Todoã®è¨˜æ³•

å„ãƒã‚±ãƒƒãƒˆå†…ã®ã‚¿ã‚¹ã‚¯ã¯ä»¥ä¸‹ã®å½¢å¼ã§ç®¡ç†ã—ã¾ã™ï¼š

```markdown
## ã‚¿ã‚¹ã‚¯

### ã‚»ã‚¯ã‚·ãƒ§ãƒ³å
- [ ] æœªå®Œäº†ã®ã‚¿ã‚¹ã‚¯
- [x] å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯
- [ ] é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯
```

### Todoç®¡ç†ãƒ«ãƒ¼ãƒ«

1. **ã‚¿ã‚¹ã‚¯é–‹å§‹æ™‚**: `- [ ]` ã®ã¾ã¾ã§ä½œæ¥­é–‹å§‹
2. **ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚**: `- [ ]` ã‚’ `- [x]` ã«å¤‰æ›´
3. **ãƒã‚±ãƒƒãƒˆå®Œäº†æ™‚**: ã€Œå—ã‘å…¥ã‚ŒåŸºæº–ã€ã®å…¨é …ç›®ãŒ `- [x]` ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

### é€²æ—ç¢ºèªæ–¹æ³•

```bash
# ç‰¹å®šã®ãƒã‚±ãƒƒãƒˆã®é€²æ—ç¢ºèª
grep -E "^- \[[ x]\]" docs/003-ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£….md

# å…¨ãƒã‚±ãƒƒãƒˆã®æœªå®Œäº†ã‚¿ã‚¹ã‚¯æ•°
grep -c "^- \[ \]" docs/*.md

# å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯æ•°
grep -c "^- \[x\]" docs/*.md
```

### ãƒã‚±ãƒƒãƒˆå®Ÿè£…ã®æµã‚Œ

1. **ãƒã‚±ãƒƒãƒˆé¸æŠ**: ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèªã—ã€å®Ÿè£…å¯èƒ½ãªãƒã‚±ãƒƒãƒˆã‚’é¸æŠ
2. **ã‚¿ã‚¹ã‚¯ç¢ºèª**: ãƒã‚±ãƒƒãƒˆå†…ã®ã€Œã‚¿ã‚¹ã‚¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
3. **å®Ÿè£…**: ã‚¿ã‚¹ã‚¯ã‚’1ã¤ãšã¤å®Ÿè£…
4. **Todoæ›´æ–°**: å®Œäº†ã—ãŸã‚‰ `- [x]` ã«å¤‰æ›´
5. **å—ã‘å…¥ã‚ŒåŸºæº–ãƒã‚§ãƒƒã‚¯**: å…¨ã¦ã®å—ã‘å…¥ã‚ŒåŸºæº–ãŒæº€ãŸã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
6. **æ¬¡ã®ãƒã‚±ãƒƒãƒˆã¸**: ä¾å­˜é–¢ä¿‚ã«å¿œã˜ã¦æ¬¡ã®ãƒã‚±ãƒƒãƒˆã«é€²ã‚€

### æ³¨æ„äº‹é …

- **å¿…ãšãƒã‚±ãƒƒãƒˆã‚’èª­ã‚“ã§ã‹ã‚‰å®Ÿè£…**: å®Ÿè£…ä¾‹ã‚„ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™
- **å—ã‘å…¥ã‚ŒåŸºæº–ã¯å³å®ˆ**: å…¨ã¦æº€ãŸã•ãªã„é™ã‚Šãƒã‚±ãƒƒãƒˆã¯å®Œäº†ã¨ã¿ãªã—ã¾ã›ã‚“
- **ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèª**: å¿…è¦ãªãƒã‚±ãƒƒãƒˆãŒå®Œäº†ã—ã¦ã„ãªã„ã¨ã€å®Ÿè£…ãŒå›°é›£ã«ãªã‚Šã¾ã™
- **Todoã¯éšæ™‚æ›´æ–°**: é€²æ—ã‚’å¯è¦–åŒ–ã—ã€æŠœã‘æ¼ã‚Œã‚’é˜²ããŸã‚

### ãƒã‚±ãƒƒãƒˆé–“ã®ä¾å­˜é–¢ä¿‚

```
000 (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
 â”œâ”€ 001 (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
 â”œâ”€ 002 (åŸºæœ¬UIæ§‹ç¯‰)
 â”‚   â””â”€ 003 (ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½)
 â”‚       â”œâ”€ 004 (ç—‡çŠ¶èª¬æ˜æ–‡ç”Ÿæˆ)
 â”‚       â”‚   â”œâ”€ 005 (è¨ºç™‚ç§‘ãƒãƒƒãƒ”ãƒ³ã‚°)
 â”‚       â”‚   â”‚   â””â”€ 006 (ç—…é™¢æ¤œç´¢ãƒ»è¡¨ç¤º)
 â”‚       â”‚   â””â”€ 007 (ç”»åƒä¿å­˜)
 â”‚       â”‚   â””â”€ 011 (AIè¨ºæ–­) â€»ã‚ªãƒ—ã‚·ãƒ§ãƒ³
 â”‚       â””â”€ 012 (UI/UXãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—)
 â””â”€ 008 (ç®¡ç†ç”»é¢æ§‹ç¯‰)
     â””â”€ 009 (ç—…é™¢CRUD)
         â””â”€ 010 (CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ)

013 (ãƒ†ã‚¹ãƒˆå®Ÿè£…) - ä¸¦è¡Œä½œæ¥­å¯èƒ½
014 (æœ¬ç•ªç’°å¢ƒæ§‹ç¯‰) - å…¨æ©Ÿèƒ½å®Œäº†å¾Œ
```

---

## å®Ÿè£…å®Œäº†çŠ¶æ³

### å®Œäº†æ¸ˆã¿ãƒã‚±ãƒƒãƒˆï¼ˆ2025å¹´11æœˆ18æ—¥æ™‚ç‚¹ï¼‰

#### âœ… ãƒã‚±ãƒƒãƒˆ 000: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- Next.js 15.5.6 + React 19 + TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹ç¯‰å®Œäº†
- Tailwind CSS è¨­å®šå®Œäº†
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ç¢ºç«‹

#### âœ… ãƒã‚±ãƒƒãƒˆ 001: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»æ§‹ç¯‰
- Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆbyouin-nabi: xsydqbczmzfufeywjfpsï¼‰
- hospitals ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆãƒ»è¨­å®šå®Œäº†
- ã‚«ãƒ©ãƒ æ§‹æˆ:
  - id (UUID, Primary Key)
  - name (TEXT)
  - category (TEXT[]) - è¨ºç™‚ç§‘ã®é…åˆ—
  - address (TEXT)
  - tel (TEXT)
  - city (TEXT)
  - opening_hours (TEXT, nullable)
  - google_map_url (TEXT, nullable)
  - website (TEXT, nullable) - **2025/11/18è¿½åŠ **
  - note (TEXT, nullable)
  - created_at, updated_at (TIMESTAMP)

#### âœ… ãƒã‚±ãƒƒãƒˆ 002: åŸºæœ¬UIæ§‹ç¯‰
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆHeader, Footer, AdminLayoutï¼‰
- å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆButton, LoadingSpinnerï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

#### âœ… ãƒã‚±ãƒƒãƒˆ 003: ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…
- QuestionnaireContext ã«ã‚ˆã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†
- å¤šæ®µéšãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…ï¼ˆéƒ¨ä½é¸æŠ â†’ è©³ç´°ç—‡çŠ¶ â†’ è£œè¶³æƒ…å ±ï¼‰
- LocalStorage ã¸ã®è‡ªå‹•ä¿å­˜æ©Ÿèƒ½
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…

#### âœ… ãƒã‚±ãƒƒãƒˆ 004: ç—‡çŠ¶èª¬æ˜æ–‡ç”Ÿæˆæ©Ÿèƒ½
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®ç—‡çŠ¶èª¬æ˜æ–‡ç”ŸæˆAPIå®Ÿè£…
- `/api/symptoms/generate` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä½œæˆ
- SymptomDescription ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…

#### âœ… ãƒã‚±ãƒƒãƒˆ 005: è¨ºç™‚ç§‘ãƒãƒƒãƒ”ãƒ³ã‚°æ©Ÿèƒ½
- éƒ¨ä½ã¨ç—‡çŠ¶ã‹ã‚‰è¨ºç™‚ç§‘ã‚’æ¨å¥¨ã™ã‚‹æ©Ÿèƒ½å®Ÿè£…
- `/lib/departmentMapping.ts` å®Ÿè£…
- RecommendedDepartments ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…

#### âœ… ãƒã‚±ãƒƒãƒˆ 006: ç—…é™¢æ¤œç´¢ãƒ»è¡¨ç¤ºæ©Ÿèƒ½
- `/api/hospitals` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ï¼ˆå…¨ç—…é™¢å–å¾—ï¼‰
- `/api/hospitals/search` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ï¼ˆè¨ºç™‚ç§‘ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
- HospitalList ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- HospitalCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
  - åœ°å›³è¡¨ç¤ºãƒœã‚¿ãƒ³ï¼ˆğŸ—ºï¸ Google Mapsï¼‰
  - Webã‚µã‚¤ãƒˆãƒœã‚¿ãƒ³ï¼ˆğŸŒ å¤–éƒ¨ãƒªãƒ³ã‚¯ï¼‰

#### âœ… ãƒã‚±ãƒƒãƒˆ 007: ç”»åƒä¿å­˜æ©Ÿèƒ½
- html2canvas çµ±åˆ
- ImageSaveButton ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- ç—‡çŠ¶èª¬æ˜æ–‡ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜æ©Ÿèƒ½

#### âœ… ãƒã‚±ãƒƒãƒˆ 008: ç®¡ç†ç”»é¢æ§‹ç¯‰
- Cookie ãƒ™ãƒ¼ã‚¹èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
  - `/api/admin/login` - ãƒ­ã‚°ã‚¤ãƒ³API
  - `/api/admin/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆAPI
  - `/middleware.ts` - èªè¨¼ã‚¬ãƒ¼ãƒ‰ï¼ˆ/admin ä¿è­·ï¼‰
- AdminLayout å®Ÿè£…ï¼ˆæ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¯¾å¿œï¼‰
  - `/admin/login` ãƒšãƒ¼ã‚¸ã§ã¯ç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’éè¡¨ç¤º
- AdminSidebar, AdminHeader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- `/admin/dashboard` ãƒšãƒ¼ã‚¸å®Ÿè£…

#### âœ… ãƒã‚±ãƒƒãƒˆ 009: ç—…é™¢CRUDæ©Ÿèƒ½
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ18æ—¥
- **é‡è¦ãªæŠ€è¡“çš„è§£æ±ºäº‹é …**:
  - **Supabase RLSå•é¡Œã®è§£æ±º**: Service Role Key ã‚’ä½¿ç”¨ã—ãŸç®¡ç†ç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ
  - **ãƒ•ã‚¡ã‚¤ãƒ«**: `/src/lib/supabase-admin.ts`
  - **ç’°å¢ƒå¤‰æ•°**: `SUPABASE_SERVICE_ROLE_KEY` è¿½åŠ 

**å®Ÿè£…å†…å®¹:**

1. **Server Actions** (`/src/app/admin/actions.ts`):
   ```typescript
   'use server'

   // èªè¨¼ãƒã‚§ãƒƒã‚¯
   async function verifyAdminAuth()

   // CRUDæ“ä½œï¼ˆå…¨ã¦supabaseAdminã‚’ä½¿ç”¨ï¼‰
   export async function createHospital(formData: FormData)
   export async function updateHospital(hospitalId: string, formData: FormData)
   export async function deleteHospital(hospitalId: string)
   ```

2. **HospitalForm ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** (`/src/components/Admin/HospitalForm.tsx`):
   - æ–°è¦ç™»éŒ²ãƒ»ç·¨é›†å…±ç”¨ãƒ•ã‚©ãƒ¼ãƒ 
   - `useTransition()` ã«ã‚ˆã‚‹éåŒæœŸçŠ¶æ…‹ç®¡ç†
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ»ã‚µãƒ¼ãƒãƒ¼å´ï¼‰
   - å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
     - ç—…é™¢åã€è¨ºç™‚ç§‘ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰ã€ä½æ‰€ã€å¸‚ç”ºæ‘ã€é›»è©±ç•ªå·
     - è¨ºç™‚æ™‚é–“ã€Google Maps URLã€Webã‚µã‚¤ãƒˆã€å‚™è€ƒ

3. **ç®¡ç†ç”»é¢ãƒšãƒ¼ã‚¸**:
   - `/admin/hospitals` - ç—…é™¢ä¸€è¦§ï¼ˆç·¨é›†ãƒ»å‰Šé™¤ãƒœã‚¿ãƒ³ä»˜ãï¼‰
   - `/admin/hospitals/new` - æ–°è¦ç™»éŒ²
   - `/admin/hospitals/[id]/edit` - ç·¨é›†ï¼ˆå‹•çš„ãƒ«ãƒ¼ãƒˆï¼‰

4. **UIèª¿æ•´**:
   - ç®¡ç†ç”»é¢ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãƒ»ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°æœ€é©åŒ–
   - ã‚·ãƒ‹ã‚¢å‘ã‘ã‚µã‚¤ã‚ºï¼ˆtext-4xl, p-6ï¼‰â†’ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç®¡ç†è€…å‘ã‘ï¼ˆtext-2xl, p-4ï¼‰ã«èª¿æ•´

5. **Websiteãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ** (2025/11/18):
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã« `website` ã‚«ãƒ©ãƒ è¿½åŠ 
   - Hospitalå‹å®šç¾©ã« `website?: string | null` è¿½åŠ 
   - ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›æ¬„è¿½åŠ 
   - ç®¡ç†ç”»é¢ä¸€è¦§ã«Webã‚µã‚¤ãƒˆè¡¨ç¤ºï¼ˆğŸŒã‚¢ã‚¤ã‚³ãƒ³ + ãƒªãƒ³ã‚¯ï¼‰
   - å…¬é–‹ãƒšãƒ¼ã‚¸ï¼ˆHospitalCardï¼‰ã«Webã‚µã‚¤ãƒˆãƒœã‚¿ãƒ³è¿½åŠ 

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… ç—…é™¢ã®æ–°è¦ç™»éŒ²ãŒç®¡ç†ç”»é¢ã‹ã‚‰å¯èƒ½
- âœ… ç—…é™¢æƒ…å ±ã®ç·¨é›†ãŒå¯èƒ½
- âœ… ç—…é™¢ã®å‰Šé™¤ãŒå¯èƒ½ï¼ˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãï¼‰
- âœ… è¨ºç™‚ç§‘ã®è¤‡æ•°é¸æŠå¯¾å¿œï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šå…¥åŠ›ï¼‰
- âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼ˆå¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯ï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…
- âœ… æˆåŠŸãƒ»å¤±æ•—æ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¡¨ç¤º
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

### ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆçµæœï¼ˆ2025å¹´11æœˆ18æ—¥ï¼‰

```
âœ“ Compiled successfully in 16.3s
âœ“ Linting and checking validity of types
âœ“ Generating static pages (16/16)

Route (app)                         Size  First Load JS
â”Œ â—‹ /                              647 B         119 kB
â”œ â—‹ /admin/dashboard             1.27 kB         121 kB
â”œ â—‹ /admin/hospitals             1.78 kB         122 kB
â”œ Æ’ /admin/hospitals/[id]/edit       0 B         122 kB
â”œ â—‹ /admin/hospitals/new             0 B         122 kB
â”œ â—‹ /admin/login                 1.16 kB         121 kB
â”œ â—‹ /questionnaire               3.02 kB         122 kB
â”” â—‹ /results                     50.6 kB         169 kB

å‹ã‚¨ãƒ©ãƒ¼: ãªã—
ãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼: ãªã—
```

#### âœ… ãƒã‚±ãƒƒãƒˆ 010: CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ19æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
   - `papaparse` (CSVè§£æ)
   - `xlsx` (Excelè§£æ)
   - `@types/papaparse` (å‹å®šç¾©)

2. **Server Actions** (`/src/app/admin/actions.ts`ã«è¿½åŠ ):
   ```typescript
   export async function importHospitals(formData: FormData): Promise<ImportResult>
   export async function exportHospitalsCSV(): Promise<string>
   ```

3. **ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½** (`/src/app/admin/hospitals/import/page.tsx`):
   - CSV/Excelãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   - ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼è‡ªå‹•åˆ¤å®šï¼ˆ.csv, .xlsx, .xlsï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯ï¼‰
   - ã‚¨ãƒ©ãƒ¼è¡Œã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
   - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿å…¨å‰Šé™¤ + æ–°è¦ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆãƒ•ãƒ«ç½®æ›æ–¹å¼ï¼‰
   - ConfirmModal ã«ã‚ˆã‚‹ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
   - LoadingSpinner ã«ã‚ˆã‚‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆä¸­è¡¨ç¤º
   - å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆæˆåŠŸä»¶æ•°ãƒ»ã‚¨ãƒ©ãƒ¼ä»¶æ•°è¡¨ç¤ºï¼‰

4. **CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½**:
   - ç™»éŒ²æ¸ˆã¿ç—…é™¢ãƒ‡ãƒ¼ã‚¿ã®CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
   - UTF-8 BOM å¯¾å¿œï¼ˆExcelã§ã®æ–‡å­—åŒ–ã‘é˜²æ­¢ï¼‰
   - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«å: `hospitals_YYYY-MM-DD.csv`

5. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**:
   - â‘  ç™»éŒ²ãƒ‡ãƒ¼ã‚¿ã‚’CSVã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
   - â‘¡ Excelã‚„ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†ï¼ˆè¿½åŠ ãƒ»ä¿®æ­£ãƒ»å‰Šé™¤ï¼‰
   - â‘¢ ç·¨é›†ã—ãŸCSVã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆæ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’å…¨å‰Šé™¤ã—ã¦ã‹ã‚‰æ–°è¦ãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥ï¼‰

6. **UI/UXæ”¹å–„ï¼ˆè¿½åŠ å®Ÿè£…ï¼‰**:
   - ãƒªãƒƒãƒãƒ¢ãƒ¼ãƒ€ãƒ«ã‚·ã‚¹ãƒ†ãƒ ï¼ˆConfirmModal, SuccessModalï¼‰
   - ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ï¼ˆToastï¼‰
   - CSS ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆfadeIn, slideIn, bounceIn, slideInRightï¼‰
   - å…¨ã¦ã® `window.confirm()` ã¨ `alert()` ã‚’ãƒªãƒƒãƒãƒ¢ãƒ¼ãƒ€ãƒ«ã«ç½®ãæ›ãˆ:
     - ç—…é™¢å‰Šé™¤ç¢ºèª
     - CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆç¢ºèª
     - ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãƒªã‚»ãƒƒãƒˆç¢ºèª
     - å‰Šé™¤æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
     - ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
     - ç™»éŒ²ãƒ»æ›´æ–°æ™‚ã®ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… CSVãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹
- âœ… Excelãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹
- âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒé©åˆ‡ã«å ±å‘Šã•ã‚Œã‚‹
- âœ… æˆåŠŸä»¶æ•°ã¨ã‚¨ãƒ©ãƒ¼ä»¶æ•°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ã‚¨ãƒ©ãƒ¼è¡ŒãŒç‰¹å®šã§ãã‚‹
- âœ… ç™»éŒ²ãƒ‡ãƒ¼ã‚¿CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‰ã®ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆä¸­ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
- âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- âœ… æ—¢å­˜ãƒ‡ãƒ¼ã‚¿å…¨å‰Šé™¤ + æ–°è¦ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆãƒ•ãƒ«ç½®æ›æ–¹å¼ï¼‰
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

### ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆçµæœï¼ˆ2025å¹´11æœˆ19æ—¥ï¼‰

```
âœ“ Compiled successfully in 19.4s
âœ“ Linting and checking validity of types
âœ“ Generating static pages (17/17)

Route (app)                         Size  First Load JS
â”Œ â—‹ /                              647 B         119 kB
â”œ â—‹ /admin/dashboard             1.27 kB         121 kB
â”œ â—‹ /admin/hospitals             2.81 kB         123 kB
â”œ Æ’ /admin/hospitals/[id]/edit       0 B         122 kB
â”œ â—‹ /admin/hospitals/import      3.65 kB         124 kB
â”œ â—‹ /admin/hospitals/new             0 B         122 kB
â”œ â—‹ /admin/login                 1.16 kB         121 kB
â”œ â—‹ /questionnaire               3.47 kB         122 kB
â”” â—‹ /results                     50.7 kB         169 kB

å‹ã‚¨ãƒ©ãƒ¼: ãªã—
ãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼: ãªã—
```

#### âœ… è¨ºç™‚æ™‚é–“ãƒ†ãƒ¼ãƒ–ãƒ«æ©Ÿèƒ½
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ19æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ **:
   - `hospital_schedules` ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
   - æ›œæ—¥åˆ¥ï¼ˆ0=æ—¥, 1=æœˆ, ..., 6=åœŸï¼‰ã®è¨ºç™‚æ™‚é–“ç®¡ç†
   - åˆå‰ãƒ»åˆå¾Œã®æ™‚é–“å¸¯ï¼ˆTIMEå‹ï¼‰
   - ä¼‘è¨ºæ—¥ãƒ•ãƒ©ã‚°ï¼ˆ`is_closed`ï¼‰
   - å‚™è€ƒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆç¬¬3åœŸæ›œä¼‘è¨ºãªã©ï¼‰
   - `hospital_id` ã«ã‚ˆã‚‹å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ï¼ˆON DELETE CASCADEï¼‰

2. **TypeScriptå‹å®šç¾©** (`/src/types/hospital.ts`):
   ```typescript
   export interface HospitalSchedule {
     id: string;
     hospital_id: string;
     day_of_week: number;
     morning_start: string | null;
     morning_end: string | null;
     afternoon_start: string | null;
     afternoon_end: string | null;
     is_closed: boolean;
     note: string | null;
     created_at?: string;
     updated_at?: string;
   }

   export interface Hospital {
     // ...æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
     schedules?: HospitalSchedule[]; // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   }
   ```

3. **Server Actions** (`/src/app/admin/actions.ts`ã«è¿½åŠ ):
   ```typescript
   export async function getHospitalSchedules(hospitalId: string)
   export async function updateHospitalSchedules(
     hospitalId: string,
     schedulesData: ScheduleFormData[]
   )
   ```

4. **ç®¡ç†ç”»é¢ - è¨ºç™‚æ™‚é–“ç·¨é›†ãƒšãƒ¼ã‚¸** (`/src/app/admin/hospitals/[id]/schedules/page.tsx`):
   - 7æ›œæ—¥åˆ†ã®è¨ºç™‚æ™‚é–“å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
   - åˆå‰ãƒ»åˆå¾Œãã‚Œãã‚Œã«é–‹å§‹æ™‚åˆ»ãƒ»çµ‚äº†æ™‚åˆ»ã‚’å…¥åŠ›ï¼ˆ`<input type="time">`ï¼‰
   - ä¼‘è¨ºãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆãƒã‚§ãƒƒã‚¯æ™‚ã¯æ™‚åˆ»å…¥åŠ›ã‚’éè¡¨ç¤ºï¼‰
   - å‚™è€ƒå…¥åŠ›æ¬„ï¼ˆå„æ›œæ—¥ã”ã¨ï¼‰
   - ä¸€æ‹¬ä¿å­˜æ©Ÿèƒ½ï¼ˆæ—¢å­˜å‰Šé™¤ + æ–°è¦æŒ¿å…¥ï¼‰

5. **ç®¡ç†ç”»é¢ - ç—…é™¢ä¸€è¦§ãƒšãƒ¼ã‚¸æ›´æ–°**:
   - ã€ŒğŸ•’ è¨ºç™‚æ™‚é–“ã€ãƒœã‚¿ãƒ³è¿½åŠ 
   - `/admin/hospitals/[id]/schedules` ã¸ã®ãƒªãƒ³ã‚¯

6. **APIæ›´æ–°**:
   - `/api/hospitals` - `schedules:hospital_schedules(*)` ã‚’ join
   - `/api/hospitals/search` - `schedules:hospital_schedules(*)` ã‚’ join

7. **HospitalCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** (`/src/components/HospitalList/HospitalCard.tsx`):
   - **ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¨ºç™‚æ™‚é–“ã‚’è¡¨ç¤º**:
     - æ›œæ—¥ Ã— åˆå‰ãƒ»åˆå¾Œã®ãƒ†ãƒ¼ãƒ–ãƒ«
     - ä¼‘è¨ºæ—¥ã¯ã€Œä¼‘è¨ºã€ã¨è¡¨ç¤º
     - å‚™è€ƒãŒã‚ã‚‹æ›œæ—¥ã¯è¡¨ä¸‹ã«è¡¨ç¤º
   - **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: `schedules` ãŒãªã„å ´åˆã¯ `opening_hours` ã‚’å¾“æ¥é€šã‚Šè¡¨ç¤ºï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… ç®¡ç†ç”»é¢ã§è¨ºç™‚æ™‚é–“ã‚’æ›œæ—¥åˆ¥ãƒ»åˆå‰åˆå¾Œåˆ¥ã«å…¥åŠ›å¯èƒ½
- âœ… ä¼‘è¨ºæ—¥ã‚’è¨­å®šå¯èƒ½
- âœ… å‚™è€ƒï¼ˆç¬¬3åœŸæ›œä¼‘è¨ºãªã©ï¼‰ã‚’å…¥åŠ›å¯èƒ½
- âœ… è¨ºç™‚æ™‚é–“ãŒãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¦‹ã‚„ã™ãè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… æ—¢å­˜ã® opening_hours ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ã®äº’æ›æ€§ç¶­æŒ
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

#### âœ… ç—…é™¢æ¤œç´¢æ©Ÿèƒ½
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ24æ—¥
- **UIæ”¹å–„æ—¥**: 2025å¹´11æœˆ30æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿** (`/src/lib/masterData.ts`):
   - å…¨è¨ºç™‚ç§‘ãƒªã‚¹ãƒˆï¼ˆ20ç¨®é¡ï¼‰: `ALL_DEPARTMENTS`
   - å—ä¿¡åœ°åŸŸå¸‚ç”ºæ‘ãƒªã‚¹ãƒˆï¼ˆ14è‡ªæ²»ä½“ï¼‰: `ALL_CITIES`
   - å¸‚ç”ºæ‘åã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®`city`ã‚«ãƒ©ãƒ ã¨ä¸€è‡´ï¼ˆéƒ¡åãªã—: é«˜æ£®ç”ºã€æ¾å·ç”ºãªã©ï¼‰

2. **æ¤œç´¢API** (`/src/app/api/search/route.ts`):
   ```typescript
   export async function GET(request: NextRequest) {
     // ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰æ¤œç´¢æ¡ä»¶ã‚’å–å¾—
     const categoriesParam = searchParams.get('categories');
     const citiesParam = searchParams.get('cities');
     const keyword = searchParams.get('keyword');

     // Supabaseã‚¯ã‚¨ãƒªæ§‹ç¯‰
     let query = supabase
       .from('hospitals')
       .select(`*, schedules:hospital_schedules(*)`)
       .order('name');

     // è¨ºç™‚ç§‘ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆoverlapsæ¼”ç®—å­ã§é…åˆ—æ¤œç´¢ï¼‰
     if (categoriesParam) {
       query = query.overlaps('category', categories);
     }

     // å¸‚ç”ºæ‘ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆinæ¼”ç®—å­ã§è¤‡æ•°å€¤æ¤œç´¢ï¼‰
     if (citiesParam) {
       query = query.in('city', cities);
     }

     // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆilikeæ¼”ç®—å­ã§éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ï¼‰
     if (keyword) {
       query = query.ilike('name', `%${keyword}%`);
     }
   }
   ```

3. **æ¤œç´¢UIã®2ãƒšãƒ¼ã‚¸æ§‹æˆ**ï¼ˆ2025å¹´11æœˆ30æ—¥æ”¹å–„ï¼‰:

   **æ¤œç´¢æ¡ä»¶ãƒšãƒ¼ã‚¸** (`/src/app/search/page.tsx`):
   - è¨ºç™‚ç§‘é¸æŠï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ Ã— 20ï¼‰
   - å¸‚ç”ºæ‘é¸æŠï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ Ã— 14ï¼‰
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ï¼ˆç—…é™¢åï¼‰
   - æ¤œç´¢/ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³
   - æ¤œç´¢ãƒœã‚¿ãƒ³ã§ `/search/results` ã¸é·ç§»
   - æ¡ä»¶æœªå…¥åŠ›æ™‚ã¯ãƒœã‚¿ãƒ³ç„¡åŠ¹åŒ–

   **æ¤œç´¢çµæœãƒšãƒ¼ã‚¸** (`/src/app/search/results/page.tsx`):
   - URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰æ¤œç´¢æ¡ä»¶ã‚’å–å¾—ã—ã¦æ¤œç´¢å®Ÿè¡Œ
   - æ¤œç´¢æ¡ä»¶ã®è¡¨ç¤ºï¼ˆã‚¿ã‚°å½¢å¼ï¼‰
   - æ¤œç´¢çµæœãƒªã‚¹ãƒˆè¡¨ç¤º
   - **ã‚¹ãƒãƒ›ç”¨å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼**: ã€Œãƒ›ãƒ¼ãƒ ã€ã€Œæ¡ä»¶ã‚’å¤‰æ›´ã€ãƒœã‚¿ãƒ³
   - PCç”¨ã€Œæ¡ä»¶ã‚’å¤‰æ›´ã—ã¦å†æ¤œç´¢ã€ãƒœã‚¿ãƒ³
   - æ¡ä»¶ãŒãªã„å ´åˆã¯ `/search` ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

4. **ç—…é™¢è©³ç´°ãƒšãƒ¼ã‚¸** (`/src/app/hospital/[id]/page.tsx`):
   - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆasync componentï¼‰
   - Supabase ã‹ã‚‰ç—…é™¢æƒ…å ±ã¨è¨ºç™‚æ™‚é–“ã‚’å–å¾—
   - HospitalCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§è©³ç´°è¡¨ç¤º
   - **ã‚¹ãƒãƒ›ç”¨å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼**: ã€Œãƒ›ãƒ¼ãƒ ã€ã€Œæ¤œç´¢çµæœã€ãƒœã‚¿ãƒ³
   - PCç”¨ã€Œâ† æ¤œç´¢çµæœã«æˆ»ã‚‹ã€ãƒªãƒ³ã‚¯ï¼ˆæ¤œç´¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãï¼‰
   - **ã‚¹ãƒãƒ›ç”¨ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºèª¿æ•´**: é›»è©±ãƒ»åœ°å›³ãƒ»Webãƒœã‚¿ãƒ³ã‚’3åˆ—ã‚°ãƒªãƒƒãƒ‰ã§é…ç½®

5. **å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
   - `MobileFixedFooter`: ã‚¹ãƒãƒ›ç”¨å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆæ¤œç´¢çµæœãƒ»è©³ç´°ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨ï¼‰
   - `Footer`: æ¤œç´¢çµæœãƒ»è©³ç´°ãƒšãƒ¼ã‚¸ã§ã¯ã‚¹ãƒãƒ›éè¡¨ç¤º

6. **ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°** (`/src/components/Common/Header.tsx`):
   - ã€ŒğŸ” æ¤œç´¢ã€ãƒœã‚¿ãƒ³è¿½åŠ 
   - `/search` ã¸ã®ãƒªãƒ³ã‚¯

**æ¤œç´¢ãƒ•ãƒ­ãƒ¼:**
```
/searchï¼ˆæ¤œç´¢æ¡ä»¶ãƒšãƒ¼ã‚¸ï¼‰
  â†“ è¨ºç™‚ç§‘ãƒ»å¸‚ç”ºæ‘ãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’é¸æŠ
  â†“ ã€Œæ¤œç´¢ã™ã‚‹ã€ãƒœã‚¿ãƒ³
/search/results?categories=å†…ç§‘&cities=é£¯ç”°å¸‚ï¼ˆæ¤œç´¢çµæœãƒšãƒ¼ã‚¸ï¼‰
  â†“ ç—…é™¢ã‚’ã‚¿ãƒƒãƒ—
/hospital/[id]?categories=å†…ç§‘&cities=é£¯ç”°å¸‚ï¼ˆç—…é™¢è©³ç´°ãƒšãƒ¼ã‚¸ï¼‰
  â†“ ã€Œæ¤œç´¢çµæœã€ãƒœã‚¿ãƒ³ï¼ˆã‚¹ãƒãƒ›ï¼‰ã¾ãŸã¯ã€Œâ† æ¤œç´¢çµæœã«æˆ»ã‚‹ã€ï¼ˆPCï¼‰
/search/results?categories=å†…ç§‘&cities=é£¯ç”°å¸‚ï¼ˆæ¤œç´¢çµæœãƒšãƒ¼ã‚¸ - æ¡ä»¶ä¿æŒï¼‰
```

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… è¨ºç™‚ç§‘ã§çµã‚Šè¾¼ã¿æ¤œç´¢ãŒå¯èƒ½
- âœ… å¸‚ç”ºæ‘ã§çµã‚Šè¾¼ã¿æ¤œç´¢ãŒå¯èƒ½
- âœ… ç—…é™¢åã§ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ãŒå¯èƒ½
- âœ… è¤‡æ•°æ¡ä»¶ã®çµ„ã¿åˆã‚ã›æ¤œç´¢ãŒå¯èƒ½
- âœ… æ¤œç´¢çµæœãŒãƒªã‚¹ãƒˆå½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- âœ… æ¤œç´¢çµæœã‹ã‚‰ç—…é™¢è©³ç´°ãƒšãƒ¼ã‚¸ã¸é·ç§»ã§ãã‚‹
- âœ… ç—…é™¢è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰æ¤œç´¢çµæœã«æˆ»ã‚Œã‚‹
- âœ… æ¤œç´¢æ¡ä»¶ãŒ URL ã«ä¿å­˜ã•ã‚Œã€æˆ»ã‚‹ãƒœã‚¿ãƒ³ã§å¾©å…ƒã•ã‚Œã‚‹
- âœ… ãƒ˜ãƒƒãƒ€ãƒ¼ã«æ¤œç´¢ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ã‚¹ãƒãƒ›ã§å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

#### âœ… UI/UXæ”¹å–„ - ç—…é™¢ãƒªã‚¹ãƒˆè¡¨ç¤ºã®æœ€é©åŒ–
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ24æ—¥

**å®Ÿè£…å†…å®¹:**

1. **å¸‚ç”ºæ‘ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æœ€é©åŒ–** (`/src/lib/masterData.ts`):
   - å¯¾è±¡åœ°åŸŸã‚’é£¯ç”°å¸‚ãƒ»ä¸‹ä¼Šé‚£éƒ¡ã«é™å®š
   - **14è‡ªæ²»ä½“**: é£¯ç”°å¸‚ã€æ¾å·ç”ºã€é«˜æ£®ç”ºã€é˜¿å—ç”ºã€é˜¿æ™ºæ‘ã€å¹³è°·æ‘ã€æ ¹ç¾½æ‘ã€ä¸‹æ¡æ‘ã€å£²æœ¨æ‘ã€å¤©é¾æ‘ã€æ³°é˜œæ‘ã€å–¬æœ¨æ‘ã€è±Šä¸˜æ‘ã€å¤§é¹¿æ‘

2. **HospitalListItem ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ** (`/src/components/HospitalList/HospitalListItem.tsx`):
   - ã‚·ãƒ³ãƒ—ãƒ«ãªãƒªã‚¹ãƒˆå½¢å¼ã®ç—…é™¢è¡¨ç¤º
   - **Grid ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ** (`grid-cols-[1fr_auto]`) ã§è¨ºç™‚ç§‘ã¨é›»è©±ç•ªå·ã‚’é…ç½®
   - è¨ºç™‚ç§‘ï¼ˆå·¦å´ï¼‰: å¯å¤‰å¹…ã€è¤‡æ•°è¡Œã«è‡ªå‹•æŠ˜ã‚Šè¿”ã—
   - é›»è©±ç•ªå·ï¼ˆå³å´ï¼‰: å›ºå®šå¹…ã€å¸¸ã«å³ä¸Šã«é…ç½®
   - `opening_hours` ã‚«ãƒ©ãƒ ã®å†…å®¹ã‚’1è¡Œè¡¨ç¤º

3. **é›»è©±ç•ªå·ãƒœã‚¿ãƒ³ã®å®Ÿè£…**:
   - ç·‘è‰²ã®ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ãƒœã‚¿ãƒ³ (`bg-success`)
   - `<a href="tel:${hospital.tel}">` ã§é›»è©±ã‚¢ãƒ—ãƒªèµ·å‹•
   - `onClick={(e) => e.stopPropagation()}` ã§è©³ç´°ãƒšãƒ¼ã‚¸ã¸ã®é·ç§»ã‚’é˜²æ­¢
   - è¦–è¦šçš„ã«åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆãƒ›ãƒãƒ¼åŠ¹æœã€ååˆ†ãªã‚¿ãƒƒãƒ—é ˜åŸŸï¼‰

4. **ã‚³ãƒ³ãƒ†ãƒŠå¹…ã®èª¿æ•´**:
   - `/results` ãƒšãƒ¼ã‚¸: `max-w-4xl` â†’ `max-w-5xl` (1024px)
   - `/search` ãƒšãƒ¼ã‚¸: `max-w-6xl` (1152px) - æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ãŒå¤šã„ãŸã‚ç¶­æŒ
   - ãƒšãƒ¼ã‚¸ã®ç”¨é€”ã«å¿œã˜ãŸæœ€é©ãªå¹…è¨­å®š

5. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®çµ±ä¸€**:
   - `/results` ã¨ `/search` ã®ä¸¡ãƒšãƒ¼ã‚¸ã§ `HospitalListItem` ã‚’å…±é€šä½¿ç”¨
   - ä¸€è²«ã—ãŸUI/UXä½“é¨“ã‚’æä¾›
   - `detailUrl` ãƒ—ãƒ­ãƒƒãƒ—ã§æŸ”è»ŸãªURLæŒ‡å®šãŒå¯èƒ½

6. **è¡¨ç¤ºå†…å®¹ã®æœ€é©åŒ–**:
   - **ãƒªã‚¹ãƒˆè¡¨ç¤º** (`HospitalListItem`): `opening_hours` ã‚«ãƒ©ãƒ ã®ã¿
   - **è©³ç´°ãƒšãƒ¼ã‚¸** (`HospitalCard`):
     - å„ªå…ˆ: `hospital_schedules` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼‰
     - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: `opening_hours` ã‚«ãƒ©ãƒ ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ï¼‰
     - å¾Œæ–¹äº’æ›æ€§ã‚’ç¶­æŒ

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… å¸‚ç”ºæ‘ãƒªã‚¹ãƒˆãŒ15è‡ªæ²»ä½“ã«å‰Šæ¸›
- âœ… ç—…é™¢ãƒªã‚¹ãƒˆãŒã‚·ãƒ³ãƒ—ãƒ«ã§è¦‹ã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- âœ… è¨ºç™‚ç§‘ãŒå¤šãã¦ã‚‚é›»è©±ç•ªå·ãŒå³ä¸Šã«å›ºå®š
- âœ… é›»è©±ç•ªå·ãƒœã‚¿ãƒ³ã‹ã‚‰ç›´æ¥é›»è©±ã‚’ã‹ã‘ã‚‰ã‚Œã‚‹
- âœ… /results ã¨ /search ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒçµ±ä¸€
- âœ… ã‚³ãƒ³ãƒ†ãƒŠå¹…ãŒé©åˆ‡ã«èª¿æ•´
- âœ… è©³ç´°ãƒšãƒ¼ã‚¸ã§è¨ºç™‚æ™‚é–“ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå„ªå…ˆè¡¨ç¤º
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

#### âœ… ãƒã‚±ãƒƒãƒˆ 011: AIè¨ºæ–­æ©Ÿèƒ½å®Ÿè£…ï¼ˆå®Ÿé¨“çš„ï¼‰
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ24æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
   - `openai` (^4.77.3) - OpenAI API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

2. **ç’°å¢ƒå¤‰æ•°è¨­å®š**:
   ```bash
   # AI Diagnosis Feature (å®Ÿé¨“çš„æ©Ÿèƒ½)
   NEXT_PUBLIC_AI_DIAGNOSIS=true

   # OpenAI API Key
   OPENAI_API_KEY=sk-proj-...
   ```

3. **API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ** (`/src/app/api/symptoms/ai-diagnosis/route.ts`):
   - `POST /api/symptoms/ai-diagnosis` å®Ÿè£…
   - OpenAI API (`gpt-4o-mini`) ã¨ã®é€£æº
   - æ©Ÿèƒ½ãƒ•ãƒ©ã‚° (`NEXT_PUBLIC_AI_DIAGNOSIS`) ã«ã‚ˆã‚‹åˆ¶å¾¡
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿè£…:
     - è€ƒãˆã‚‰ã‚Œã‚‹å¯èƒ½æ€§ï¼ˆ3ã¤ã¾ã§ï¼‰
     - ç·Šæ€¥åº¦ï¼ˆé«˜/ä¸­/ä½ï¼‰
     - æ¨å¥¨è¨ºç™‚ç§‘
     - å—è¨ºæ™‚ã®æ³¨æ„ç‚¹
     - æ—¥å¸¸ç”Ÿæ´»ã§ã®ã‚±ã‚¢
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆOpenAI API ã‚¨ãƒ©ãƒ¼ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ï¼‰

4. **AIDiagnosisButton ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** (`/src/components/SymptomResult/AIDiagnosisButton.tsx`):
   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (`'use client'`)
   - æ©Ÿèƒ½ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹è¡¨ç¤ºåˆ¶å¾¡ï¼ˆç„¡åŠ¹æ™‚ã¯ `null` ã‚’è¿”ã™ï¼‰
   - å…è²¬äº‹é …ã®å¼·èª¿è¡¨ç¤º:
     - èµ¤æ ãƒ»èµ¤æ–‡å­—ã§ã®è­¦å‘Š
     - ã€ŒåŒ»å­¦çš„è¨ºæ–­ã§ã¯ãªã„ã€ã®æ˜ç¤º
     - ã€Œå¿…ãšåŒ»å¸«ã®è¨ºå¯Ÿã‚’å—ã‘ã¦ãã ã•ã„ã€ã®å¼·èª¿
     - ç·Šæ€¥æ™‚ã®119ç•ªé€šå ±æŒ‡ç¤º
   - åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆå¿…é ˆï¼‰
   - LoadingSpinner ã«ã‚ˆã‚‹AIåˆ†æä¸­è¡¨ç¤º
   - åˆ†æçµæœã®è¡¨ç¤ºï¼ˆæ•´å½¢æ¸ˆã¿ï¼‰
   - å†åº¦ã®å…è²¬äº‹é …è¡¨ç¤ºï¼ˆçµæœä¸‹éƒ¨ï¼‰

5. **çµæœãƒšãƒ¼ã‚¸ã¸ã®çµ±åˆ** (`/src/app/results/page.tsx`):
   - AIDiagnosisButton ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ 
   - QuestionnaireContext ã® `data` ã‚’æ¸¡ã™
   - å‹ã®æ•´åˆæ€§ç¢ºä¿ï¼ˆnullable ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¯¾å¿œï¼‰

6. **å‹å®šç¾©ã®æ›´æ–°**:
   - AIDiagnosisButton ã® Props ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
   - nullable å‹ (`string | null`) å¯¾å¿œ
   - å¿…é ˆé …ç›®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… é–‹ç™ºç’°å¢ƒã§AIè¨ºæ–­ãŒå‹•ä½œã™ã‚‹
- âœ… æœ¬ç•ªç’°å¢ƒã§ã¯ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„ï¼ˆæ©Ÿèƒ½ãƒ•ãƒ©ã‚°ã§åˆ¶å¾¡ï¼‰
- âœ… å…è²¬äº‹é …ãŒæ˜ç¢ºã«è¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆèµ¤æ ãƒ»èµ¤æ–‡å­—ï¼‰
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ„ãŒå¿…é ˆã§ã‚ã‚‹ï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰
- âœ… AIåˆ†æçµæœãŒé©åˆ‡ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã‚‹
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒé©åˆ‡ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- âœ… ç’°å¢ƒå¤‰æ•°ã§æ©Ÿèƒ½ã®ON/OFFãŒã§ãã‚‹
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

**æ³¨æ„äº‹é …:**
- ã“ã®æ©Ÿèƒ½ã¯**å®Ÿé¨“çš„**ã§ã€åˆæœŸãƒªãƒªãƒ¼ã‚¹æ™‚ã¯**ç„¡åŠ¹åŒ–æ¨å¥¨**
- æœ¬ç•ªç’°å¢ƒã§ã¯ `NEXT_PUBLIC_AI_DIAGNOSIS=false` ã‚’è¨­å®š
- æ³•å‹™ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†å¾Œã«æœ‰åŠ¹åŒ–ã‚’æ¤œè¨
- OpenAI API åˆ©ç”¨æ–™é‡‘ã«æ³¨æ„ï¼ˆgpt-4o-mini ä½¿ç”¨ï¼‰
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…ãŒå¿…è¦

#### âœ… ãƒã‚±ãƒƒãƒˆ 012: UI/UXãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ24æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°** (`/src/app/error.tsx`):
   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (`'use client'`)
   - ã‚¨ãƒ©ãƒ¼æƒ…å ±ã®è¡¨ç¤ºï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’è¡¨ç¤ºï¼‰
   - ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ï¼ˆ`reset()` é–¢æ•°ï¼‰
   - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³
   - å¤§ããªãƒ•ã‚©ãƒ³ãƒˆãƒ»æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - `useEffect` ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²

2. **ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°** (`/src/app/loading.tsx`):
   - LoadingSpinner ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†åˆ©ç”¨
   - å¤§ããªãƒ•ã‚©ãƒ³ãƒˆã§ã€Œèª­ã¿è¾¼ã¿ä¸­...ã€è¡¨ç¤º
   - ä¸­å¤®é…ç½®ã€è¦–èªæ€§ã®é«˜ã„ãƒ‡ã‚¶ã‚¤ãƒ³

3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šã‚¹ã‚¿ã‚¤ãƒ«** (`/src/app/globals.css`):
   - **ã‚¿ãƒƒãƒ—ãƒã‚¤ãƒ©ã‚¤ãƒˆè‰²** (`-webkit-tap-highlight-color`)
   - **æ¸›é€Ÿã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ** (`prefers-reduced-motion`)
   - **ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ** (`prefers-contrast: high`)
   - **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å°‚ç”¨ãƒ†ã‚­ã‚¹ãƒˆ** (`.sr-only`)
   - **ã‚¹ã‚­ãƒƒãƒ—ãƒªãƒ³ã‚¯** (`.skip-link`) - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
   - **ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤ºã®å¼·åŒ–** - ã™ã¹ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ 
   - **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£** - ãƒ¢ãƒã‚¤ãƒ«18pxã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—18pxã€å¤§æ–‡å­—ãƒ¢ãƒ¼ãƒ‰24pxä»¥ä¸Š

4. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ”¹å–„** (`/src/app/layout.tsx`):
   - ã‚¹ã‚­ãƒƒãƒ—ãƒªãƒ³ã‚¯è¿½åŠ ï¼ˆã€Œãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—ã€ï¼‰
   - ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTML (`<main id="main-content" role="main">`)
   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ©ä¾¿æ€§å‘ä¸Š

5. **Header ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ”¹å–„** (`/src/components/Common/Header.tsx`):
   - `role="banner"` è¿½åŠ 
   - `aria-label` è¿½åŠ ï¼ˆã€Œç—…é™¢ãƒŠãƒ“å—ä¿¡ ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã€ã€Œç—…é™¢ã‚’æ¤œç´¢ã€ï¼‰
   - `<nav role="navigation" aria-label="ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">` ã§ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ˜ç¤º

6. **Footer ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ”¹å–„** (`/src/components/Common/Footer.tsx`):
   - `role="contentinfo"` è¿½åŠ 
   - `aria-label` è¿½åŠ ï¼ˆã€Œãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ã€Œåˆ©ç”¨è¦ç´„ã€ã€ŒãŠå•ã„åˆã‚ã›ã€ï¼‰
   - å…è²¬äº‹é …ã« `role="note" aria-label="å…è²¬äº‹é …"` è¿½åŠ 

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… WCAG AA ãƒ¬ãƒ™ãƒ«ã«é©åˆï¼ˆã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTMLã€ARIAå±æ€§ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ï¼‰
- âœ… å…¨ã¦ã®ãƒœã‚¿ãƒ³ãŒ48px Ã— 48pxä»¥ä¸Šï¼ˆ`min-h-tap` ã‚¯ãƒ©ã‚¹ã§çµ±ä¸€ï¼‰
- âœ… ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãŒ18pxä»¥ä¸Šï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã§ä¿è¨¼ï¼‰
- âœ… ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ã¿ã§å…¨æ©Ÿèƒ½ãŒæ“ä½œã§ãã‚‹ï¼ˆã‚¹ã‚­ãƒƒãƒ—ãƒªãƒ³ã‚¯ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤ºå¼·åŒ–ï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãŒé©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹ï¼ˆerror.tsx ã§çµ±ä¸€ï¼‰
- âœ… LoadingçŠ¶æ…‹ãŒè¦–è¦šçš„ã«åˆ†ã‹ã‚Šã‚„ã™ã„ï¼ˆloading.tsx ã§çµ±ä¸€ï¼‰
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

**ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½:**
- ã‚¹ã‚­ãƒƒãƒ—ãƒªãƒ³ã‚¯: Tab ã‚­ãƒ¼ã§ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã«è¡¨ç¤º
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ: ARIA ãƒ©ãƒ™ãƒ«ã€role å±æ€§
- ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰: è‡ªå‹•å¯¾å¿œï¼ˆ`prefers-contrast: high`ï¼‰
- æ¸›é€Ÿã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: è‡ªå‹•å¯¾å¿œï¼ˆ`prefers-reduced-motion: reduce`ï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£: ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦æœ€é©ãªãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º

#### âœ… ãƒã‚±ãƒƒãƒˆ 014: æœ¬ç•ªç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ28æ—¥

**å®Ÿè£…å†…å®¹:**

1. **Vercelãƒ‡ãƒ—ãƒ­ã‚¤**:
   - GitHubé€£æºã«ã‚ˆã‚‹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
   - ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆSupabase, OpenAI, ç®¡ç†è€…èªè¨¼ï¼‰

2. **ç’°å¢ƒå¤‰æ•°ï¼ˆVercelè¨­å®šæ¸ˆã¿ï¼‰**:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`
   - `ADMIN_PASSWORD`
   - `OPENAI_API_KEY`
   - `NEXT_PUBLIC_AI_DIAGNOSIS=true`

3. **AIè¨ºæ–­æ©Ÿèƒ½**:
   - æœ¬ç•ªç’°å¢ƒã§æœ‰åŠ¹åŒ–
   - é™å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ†ã‚¹ãƒˆé‹ç”¨ä¸­

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸ
- âœ… ç’°å¢ƒå¤‰æ•°ã®è¨­å®šå®Œäº†
- âœ… å…¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- âœ… AIè¨ºæ–­æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–

#### âœ… ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒ»ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ28æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š**:
   - `HospitalListItem` ã® `memo` åŒ–ï¼ˆä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢ï¼‰

2. **å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**:
   - `ErrorBox` - çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼è¡¨ç¤º
   - `LoadingBox` - çµ±ä¸€ã•ã‚ŒãŸãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º

3. **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°**:
   - `/src/lib/queryUtils.ts` ä½œæˆ:
     - `parseCommaSeparatedList()` - ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šæ–‡å­—åˆ—â†’é…åˆ—
     - `toCommaSeparatedString()` - é…åˆ—â†’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šæ–‡å­—åˆ—
     - `toggleArrayItem()` - é…åˆ—ãƒˆã‚°ãƒ«å‡¦ç†

4. **APIçµ±åˆ**:
   - `/api/hospitals/search` ã‚’å‰Šé™¤
   - `/api/search` ã«çµ±åˆï¼ˆé‡è¤‡æ’é™¤ï¼‰

5. **é©ç”¨ç®‡æ‰€**:
   - `/src/app/search/page.tsx` - ErrorBox, LoadingBox, queryUtilsé©ç”¨
   - `/src/app/results/page.tsx` - ErrorBox, LoadingBoxé©ç”¨
   - `/src/components/HospitalList/HospitalList.tsx` - ErrorBox, LoadingBoxé©ç”¨

**æ”¹å–„åŠ¹æœ:**
- ã‚³ãƒ¼ãƒ‰å‰Šæ¸›: ç´„50è¡Œ
- ä¿å®ˆæ€§å‘ä¸Š: ã‚¨ãƒ©ãƒ¼/ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã®çµ±ä¸€
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š: ãƒªã‚¹ãƒˆè¡¨ç¤ºæ™‚ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å‰Šæ¸›

#### âœ… ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸è¿½åŠ 
- **å®Ÿè£…æ—¥**: 2025å¹´11æœˆ28æ—¥

**å®Ÿè£…å†…å®¹:**

1. **ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸** (`/src/app/contact/page.tsx`):
   - SNSãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã®å•ã„åˆã‚ã›æ¡ˆå†…
   - Instagramãƒœã‚¿ãƒ³ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ï¼‰
   - X (Twitter) ãƒœã‚¿ãƒ³ï¼ˆé»’èƒŒæ™¯ï¼‰
   - è¿”ä¿¡æœŸé–“ã®æ¡ˆå†…ï¼ˆ1ã€œ2æ—¥ä»¥å†…ï¼‰
   - æ³¨æ„äº‹é …ï¼ˆç—…é™¢ã¸ã®ç›´æ¥å•ã„åˆã‚ã›æ¨å¥¨ãªã©ï¼‰

2. **ãƒªãƒ³ã‚¯å…ˆ**:
   - Instagram: https://www.instagram.com/masayuki.kiwami/
   - X: https://x.com/masayuki_kiwami

3. **ãƒ•ãƒƒã‚¿ãƒ¼ãƒªãƒ³ã‚¯**:
   - æ—¢å­˜ã®ã€ŒãŠå•ã„åˆã‚ã›ã€ãƒªãƒ³ã‚¯ã‹ã‚‰ `/contact` ã¸é·ç§»

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… SNSãƒªãƒ³ã‚¯ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
- âœ… ãƒ•ãƒƒã‚¿ãƒ¼ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

### ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆçµæœï¼ˆ2025å¹´11æœˆ28æ—¥ - æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ç‰ˆï¼‰

```
âœ“ Compiled successfully in 20.1s
âœ“ Linting and checking validity of types
âœ“ Generating static pages (21/21)

Route (app)                             Size  First Load JS
â”Œ â—‹ /                                  647 B         121 kB
â”œ â—‹ /admin/dashboard                 1.27 kB         123 kB
â”œ â—‹ /admin/hospitals                 2.85 kB         125 kB
â”œ Æ’ /admin/hospitals/[id]/edit           0 B         123 kB
â”œ Æ’ /admin/hospitals/[id]/schedules  53.5 kB         175 kB
â”œ â—‹ /admin/hospitals/import          3.65 kB         126 kB
â”œ â—‹ /admin/hospitals/new                 0 B         123 kB
â”œ â—‹ /admin/login                     1.16 kB         123 kB
â”œ â—‹ /contact                             0 B         120 kB
â”œ Æ’ /hospital/[id]                       0 B         120 kB
â”œ â—‹ /questionnaire                   3.49 kB         124 kB
â”œ â—‹ /results                         52.1 kB         173 kB
â”œ â—‹ /search                          3.21 kB         124 kB
â”œ â—‹ /terms                               0 B         120 kB
â”” API Routes (5)

å‹ã‚¨ãƒ©ãƒ¼: ãªã—
ãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼: ãªã—
```

### å…¨ãƒã‚±ãƒƒãƒˆå®Œäº†çŠ¶æ³

| ãƒã‚±ãƒƒãƒˆ | å†…å®¹ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|---------|------|----------|
| 000 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | âœ… å®Œäº† |
| 001 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»æ§‹ç¯‰ | âœ… å®Œäº† |
| 002 | åŸºæœ¬UIæ§‹ç¯‰ | âœ… å®Œäº† |
| 003 | ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£… | âœ… å®Œäº† |
| 004 | ç—‡çŠ¶èª¬æ˜æ–‡ç”Ÿæˆæ©Ÿèƒ½ | âœ… å®Œäº† |
| 005 | è¨ºç™‚ç§‘ãƒãƒƒãƒ”ãƒ³ã‚°æ©Ÿèƒ½ | âœ… å®Œäº† |
| 006 | ç—…é™¢æ¤œç´¢ãƒ»è¡¨ç¤ºæ©Ÿèƒ½ | âœ… å®Œäº† |
| 007 | ç”»åƒä¿å­˜æ©Ÿèƒ½ | âœ… å®Œäº† |
| 008 | ç®¡ç†ç”»é¢æ§‹ç¯‰ | âœ… å®Œäº† |
| 009 | ç—…é™¢CRUDæ©Ÿèƒ½ | âœ… å®Œäº† |
| 010 | CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ | âœ… å®Œäº† |
| 011 | AIè¨ºæ–­æ©Ÿèƒ½å®Ÿè£… | âœ… å®Œäº†ï¼ˆæœ¬ç•ªé‹ç”¨ä¸­ï¼‰ |
| 012 | UI/UXãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ— | âœ… å®Œäº† |
| 013 | ãƒ†ã‚¹ãƒˆå®Ÿè£… | ğŸ“‹ æœªç€æ‰‹ |
| 014 | æœ¬ç•ªç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ | âœ… å®Œäº† |

#### âœ… /results ãƒšãƒ¼ã‚¸ UIæ”¹å–„ï¼ˆã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³æ§‹æˆï¼‰
- **å®Ÿè£…æ—¥**: 2025å¹´12æœˆ11æ—¥

**å®Ÿè£…å†…å®¹:**

1. **Accordion ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ** (`/src/components/Common/Accordion.tsx`):
   - é–‹é–‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³
   - `variant` ãƒ—ãƒ­ãƒƒãƒ—: `default`, `highlight`, `gradient`
   - `badge` ãƒ—ãƒ­ãƒƒãƒ—: ãƒãƒƒã‚¸è¡¨ç¤ºï¼ˆç‚¹æ»…ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
   - `description` ãƒ—ãƒ­ãƒƒãƒ—: èª¬æ˜æ–‡è¡¨ç¤º
   - `badgeColor` ãƒ—ãƒ­ãƒƒãƒ—: `blue`, `green`, `orange`, `purple`
   - é–‹ã„ãŸæ™‚ã®ãƒªãƒ³ã‚°åŠ¹æœ
   - ãƒ›ãƒãƒ¼æ™‚ã®èƒŒæ™¯è‰²å¤‰åŒ–

2. **`/results` ãƒšãƒ¼ã‚¸æ§‹æˆå¤‰æ›´**:
   - **æ¨å¥¨ã•ã‚Œã‚‹è¨ºç™‚ç§‘**ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§é–‹ãï¼‰
   - **ç—‡çŠ¶ã¾ã¨ã‚ã‚’è¦‹ã‚‹**ï¼ˆé–‰ã˜ã¦ã„ã‚‹ï¼‰
     - ãƒ–ãƒ«ãƒ¼ç³»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
     - ã€Œä¾¿åˆ©ã€ãƒãƒƒã‚¸ï¼ˆç·‘è‰²ï¼‰
     - èª¬æ˜æ–‡:ã€Œç—…é™¢ã§è¦‹ã›ã‚‰ã‚Œã‚‹èª¬æ˜æ–‡ã‚’ä½œæˆã—ã¾ã—ãŸã€
   - **AIè¨ºæ–­ã‚’è©¦ã™**ï¼ˆé–‰ã˜ã¦ã„ã‚‹ï¼‰
     - ãƒ‘ãƒ¼ãƒ—ãƒ«ã€œãƒ”ãƒ³ã‚¯ã€œã‚ªãƒ¬ãƒ³ã‚¸ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
     - ã€Œå®Ÿé¨“çš„ã€ãƒãƒƒã‚¸ï¼ˆç´«è‰²ï¼‰
     - èª¬æ˜æ–‡:ã€ŒAIãŒç—‡çŠ¶ã‚’åˆ†æã—ã¦å¯èƒ½æ€§ã®ã‚ã‚‹ç—…æ°—ã‚’ææ¡ˆã—ã¾ã™ã€
   - **å¯¾å¿œã—ã¦ã„ã‚‹ç—…é™¢**ï¼ˆå¸¸ã«è¡¨ç¤ºï¼‰

3. **ãƒ¢ãƒã‚¤ãƒ«å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼è¿½åŠ ** (`/results` ãƒšãƒ¼ã‚¸):
   - ã€Œãƒ›ãƒ¼ãƒ ã€ãƒœã‚¿ãƒ³ â†’ ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸
   - ã€Œã‚„ã‚Šç›´ã™ã€ãƒœã‚¿ãƒ³ â†’ ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã¸
   - PCç”¨ãƒœã‚¿ãƒ³ã¯PCã®ã¿è¡¨ç¤º

4. **Footer ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ›´æ–°**:
   - `/results` ãƒšãƒ¼ã‚¸ã§ã‚¹ãƒãƒ›æ™‚ã¯é€šå¸¸ãƒ•ãƒƒã‚¿ãƒ¼ã‚’éè¡¨ç¤º

5. **Header ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ›´æ–°**:
   - `FontSizeToggle` ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼ˆå¿…è¦æ™‚ã«å¾©æ´»å¯èƒ½ï¼‰

6. **ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤**:
   - `SliderTabs.tsx` ã‚’å‰Šé™¤ï¼ˆä¸æ¡ç”¨ã®ãŸã‚ï¼‰

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- âœ… ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã§æƒ…å ±ã‚’æ•´ç†
- âœ… ç—…é™¢ãƒªã‚¹ãƒˆãŒã™ãã«è¦‹ãˆã‚‹ä½ç½®ã«è¡¨ç¤º
- âœ… æŠ¼ã—ãŸããªã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒãƒƒã‚¸ã€èª¬æ˜æ–‡ï¼‰
- âœ… ãƒ¢ãƒã‚¤ãƒ«å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼å®Ÿè£…
- âœ… æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªï¼ˆnpm run buildï¼‰

### ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆçµæœï¼ˆ2025å¹´12æœˆ11æ—¥ï¼‰

```
âœ“ Compiled successfully in 28.6s
âœ“ Generating static pages (22/22)

Route (app)                             Size  First Load JS
â”Œ â—‹ /                                  622 B         122 kB
â”œ â—‹ /admin/dashboard                 1.27 kB         124 kB
â”œ â—‹ /admin/hospitals                 2.85 kB         125 kB
â”œ Æ’ /admin/hospitals/[id]/edit           0 B         124 kB
â”œ Æ’ /admin/hospitals/[id]/schedules  53.5 kB         176 kB
â”œ â—‹ /admin/hospitals/import          3.65 kB         126 kB
â”œ â—‹ /admin/hospitals/new                 0 B         124 kB
â”œ â—‹ /admin/login                     1.16 kB         123 kB
â”œ â—‹ /contact                             0 B         121 kB
â”œ Æ’ /hospital/[id]                     417 B         121 kB
â”œ â—‹ /questionnaire                   3.46 kB         124 kB
â”œ â—‹ /results                           53 kB         174 kB
â”œ â—‹ /search                          2.14 kB         123 kB
â”œ â—‹ /search/results                  2.67 kB         124 kB
â”” â—‹ /terms                               0 B         121 kB

å‹ã‚¨ãƒ©ãƒ¼: ãªã—
ãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼: ãªã—
```

---

**æ›´æ–°æ—¥**: 2025 å¹´ 12 æœˆ 11 æ—¥
**ä½œæˆè€…**: Claude Code (AI Assistant)
